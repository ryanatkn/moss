import"./DsnmJJEf.js";import{p as H,f as y,O as w,b as _,c as C,d as v,r as p,ak as J,a as S,s as K,g as M,z as N,t as P,e as Q}from"./Cpgr_XhS.js";import{i as R}from"./DPSNVZ3q.js";import{e as U}from"./OwaZfqY6.js";import{g as b,a as z,h as V,C as W}from"./Cy8Uv9Xr.js";import{r as A}from"./BdzA-eIW.js";import{p as T}from"./b52Vofd0.js";import{r as X}from"./Dt0P-nNF.js";import{i as Y,H as Z}from"./DUql0e54.js";import{d as D,a as $}from"./DTvtVtwo.js";const E=b(),u=b(()=>0),x=b();var ee=y("<section><!></section>");function le(f,e){H(e,!0);const l=A(e,["$$slots","$$events","$$legacy","children"]),t=D.get(),n=u.get()+1;u.set(n);const i=x.get_maybe(),m=t.generate_section_id();x.set(m);let o;E.set(s=>(o=s,i));var a=ee();z(a,()=>({...l}));var c=v(a);w(c,()=>e.children),p(a),V(a,()=>Y(()=>({intersecting:s})=>{o&&(s?t.fragments_onscreen.add(o):t.fragments_onscreen.delete(o))})),_(f,a),C()}var te=y('<div class="flex_1"><!></div> <!>',1),ae=y("<header><!></header>");function he(f,e){H(e,!0);const l=A(e,["$$slots","$$events","$$legacy","text","tag","children"]),t=$(e.text),h=E.get();if(!h)throw Error("TomeSectionHeader must be a child of TomeSection");const n=D.get(),i=u.get(),m=e.tag??(i===1?"h2":i===2?"h3":"h4"),o=x.get(),a=h(t);let c;T.url.pathname!==X(n.root_path)&&(c=n.add(t,e.text,T.url.pathname,m,i,a,o)),J(()=>{c&&n.remove(c)});var s=ae(),L=v(s);U(L,()=>m,!1,(O,j)=>{z(O,()=>({...l,[W]:{tome_section_header:!0}}),void 0,void 0,void 0,"svelte-oi9w8y");var k=te(),g=S(k),q=v(g);{var B=r=>{var d=M(),I=S(d);w(I,()=>e.children),_(r,d)},F=r=>{var d=N();P(()=>Q(d,e.text)),_(r,d)};R(q,r=>{e.children?r(B):r(F,!1)})}p(g);var G=K(g,2);Z(G,{get fragment(){return t}}),_(j,k)}),p(s),_(f,s),C()}export{le as T,he as a};
