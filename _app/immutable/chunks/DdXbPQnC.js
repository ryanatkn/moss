import"./DsnmJJEf.js";import{o as I,s as L}from"./Cv3JeNKD.js";import{p as g,f as v,I as p,b as c,c as x,d as f,r as l,a as u,s as j,o as q,y as z,t as B}from"./qjZzyAwZ.js";import{i as F}from"./5CeDbN-a.js";import{e as G}from"./CfBvf5n5.js";import{d as J,a as S,C as K}from"./az5tBvNU.js";import{p as M}from"./u7mZkTFH.js";import{p as N}from"./CzVwROTK.js";import{r as O}from"./rglFelVp.js";import{s as P}from"./QeaNnfvq.js";import{a as Q,i as R,H as U}from"./D55bQdLC.js";import{d as b}from"./CmyFtO-I.js";const k=J();var V=v("<section><!></section>");function me(m,e){g(e,!0);const s=b.get();let a;k.set(t=>{a=t});var r=V();S(r,()=>({...e.attrs}));var d=f(r);p(d,()=>e.children),l(r),Q(r,(t,i)=>R?.(t,i),()=>({intersecting:t})=>{a&&(t?s.slugs_onscreen.add(a):s.slugs_onscreen.delete(a))}),c(m,r),x()}let W=0;var X=v("<div><!></div> <!>",1),Y=v("<header><!></header>");function _e(m,e){g(e,!0);const s=M(e,"tag",3,"h3"),a=P(e.text),r=k.get();if(!r)throw Error("Tome_Section_Header must be a child of Tome_Section");r(a);const d="tome_section_header_"+W++,t=b.get();N.url.pathname!==O(t.root_path)&&(t.add(d,e.text,a,s()),I(()=>{t.remove(d)}));var i=Y(),T=f(i);G(T,s,!1,(H,y)=>{S(H,()=>({...e.attrs,[K]:{tome_section_header:!0}}),void 0,void 0,"svelte-3vtdd8");var h=X(),_=u(h),C=f(_);{var w=o=>{var n=q(),E=u(n);p(E,()=>e.children),c(o,n)},A=o=>{var n=z();B(()=>L(n,e.text)),c(o,n)};F(C,o=>{e.children?o(w):o(A,!1)})}l(_);var D=j(_,2);U(D,{get slug(){return a}}),c(y,h)}),l(i),c(m,i),x()}export{me as T,_e as a};
