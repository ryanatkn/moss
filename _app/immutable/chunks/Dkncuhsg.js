import{aj as u,i as t,a8 as s,u as i}from"./DK2cExHD.js";import{_ as C,p as _,f as n,q as g,o as I,e as p,t as P,b as f,c as k,j as y,v as x,D as A,d as L}from"./DxKgX8TW.js";import"./ae-Ym-Bs.js";const M=C(["type","function","variable","class","constructor","component","json","css"]),D=_({name:n(),constraint:n().optional(),default_type:n().optional()}),E=_({name:n(),type:n(),optional:g(),description:n().optional(),default_value:n().optional()}),O=_({name:n(),type:n(),optional:g(),description:n().optional(),default_value:n().optional(),bindable:g().optional()}),j=_({name:n(),kind:M,doc_comment:n().optional(),type_signature:n().optional(),modifiers:p(n()).optional(),source_line:P().optional(),parameters:p(E).optional(),return_type:n().optional(),return_description:n().optional(),generic_params:p(D).optional(),examples:p(n()).optional(),deprecated_message:n().optional(),see_also:p(n()).optional(),throws:p(_({type:n().optional(),description:n()})).optional(),since:n().optional(),extends:p(n()).optional(),implements:p(n()).optional(),get members(){return p(j).optional()},get properties(){return p(j).optional()},props:p(O).optional(),also_exported_from:p(n()).optional(),alias_of:I({module:n(),name:n()}).optional()}),U=_({path:n(),identifiers:p(j).optional(),module_comment:n().optional(),dependencies:p(n()).optional(),dependents:p(n()).optional()});_({name:n(),version:n(),modules:p(U).optional()});const G=r=>{if(!r.generic_params?.length)return r.name;const e=r.generic_params.map(o=>{let h=o.name;return o.constraint&&(h+=` extends ${o.constraint}`),o.default_type&&(h+=` = ${o.default_type}`),h});return`${r.name}<${e.join(", ")}>`},H=(r,e,o)=>{const h=e.replace(/\.ts$/,".js"),a=`${o}/${h}`;return r.name==="default"?`import ${e.replace(/\.(js|ts|svelte)$/,"").split(/[-_]/).map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join("")} from '${a}';`:`${r.kind==="type"?"import type":"import"} {${r.name}} from '${a}';`},T=r=>`${x}#${encodeURIComponent(r)}`,J=(r,e)=>`${r}${A}/api#${encodeURIComponent(e)}`,R=r=>`${x}/${r}`,b=(r,e,o)=>{const h=e.replace(/^\.\//,""),a=`${r}/blob/main/${h}`;return o?`${a}#L${o}`:a},S=(r,e)=>r.endsWith("/"+e)?f(r,"/"+e):null,W=r=>{const e=k(r,"https://github.com/");return e===r?null:e.split("/")[0]||null},q=r=>"https://www.npmjs.com/package/"+r,F=r=>!r.private&&!!r.exports&&r.version!=="0.0.1",K=(r,e)=>{if(!r)return null;const o=e?k(e,"/"):"favicon.png";return y(r,"/")+o},N=r=>{if(r[0]==="@"){const e=r.split("/");if(e.length<2)throw new Error(`invalid scoped package name: "${r}" (expected format: @org/package)`);return e[1]}return r},z=r=>{if(!r)return null;const e=typeof r=="string"?r:r.url;return e?f(k(f(e,".git"),"git+"),"/"):null},ee=(r,e)=>`${y(r,"/")}.well-known/${e}`;class B{#e=u();get module(){return t(this.#e)}set module(e){s(this.#e,e)}#t=u();get identifier_json(){return t(this.#t)}set identifier_json(e){s(this.#t,e)}#s=i(()=>this.module.pkg);get pkg(){return t(this.#s)}set pkg(e){s(this.#s,e)}#i=i(()=>this.module.path);get module_path(){return t(this.#i)}set module_path(e){s(this.#i,e)}#r=i(()=>this.identifier_json.name);get name(){return t(this.#r)}set name(e){s(this.#r,e)}#n=i(()=>this.identifier_json.kind);get kind(){return t(this.#n)}set kind(e){s(this.#n,e)}#o=i(()=>this.pkg.repo_url&&this.identifier_json.source_line?b(this.pkg.repo_url,`src/lib/${this.module_path}`,this.identifier_json.source_line):void 0);get url_github(){return t(this.#o)}set url_github(e){s(this.#o,e)}#a=i(()=>T(this.name));get url_api(){return t(this.#a)}set url_api(e){s(this.#a,e)}#p=i(()=>H(this.identifier_json,this.module_path,this.pkg.package_json.name));get import_statement(){return t(this.#p)}set import_statement(e){s(this.#p,e)}#h=i(()=>this.pkg.homepage_url?J(this.pkg.homepage_url,this.name):void 0);get url_api_full(){return t(this.#h)}set url_api_full(e){s(this.#h,e)}#_=i(()=>G(this.identifier_json));get display_name(){return t(this.#_)}set display_name(e){s(this.#_,e)}#l=i(()=>this.identifier_json.type_signature);get type_signature(){return t(this.#l)}set type_signature(e){s(this.#l,e)}#u=i(()=>this.identifier_json.doc_comment);get doc_comment(){return t(this.#u)}set doc_comment(e){s(this.#u,e)}#m=i(()=>this.identifier_json.deprecated_message);get deprecated_message(){return t(this.#m)}set deprecated_message(e){s(this.#m,e)}#d=i(()=>this.identifier_json.parameters);get parameters(){return t(this.#d)}set parameters(e){s(this.#d,e)}#c=i(()=>this.identifier_json.props);get props(){return t(this.#c)}set props(e){s(this.#c,e)}#g=i(()=>this.identifier_json.return_type);get return_type(){return t(this.#g)}set return_type(e){s(this.#g,e)}#f=i(()=>this.identifier_json.return_description);get return_description(){return t(this.#f)}set return_description(e){s(this.#f,e)}#j=i(()=>this.identifier_json.generic_params);get generic_params(){return t(this.#j)}set generic_params(e){s(this.#j,e)}#k=i(()=>this.identifier_json.extends);get extends(){return t(this.#k)}set extends(e){s(this.#k,e)}#b=i(()=>this.identifier_json.implements);get implements(){return t(this.#b)}set implements(e){s(this.#b,e)}#$=i(()=>this.identifier_json.throws);get throws(){return t(this.#$)}set throws(e){s(this.#$,e)}#w=i(()=>this.identifier_json.since);get since(){return t(this.#w)}set since(e){s(this.#w,e)}#y=i(()=>this.identifier_json.examples);get examples(){return t(this.#y)}set examples(e){s(this.#y,e)}#x=i(()=>this.identifier_json.see_also);get see_also(){return t(this.#x)}set see_also(e){s(this.#x,e)}#v=i(()=>this.identifier_json.members);get members(){return t(this.#v)}set members(e){s(this.#v,e)}#C=i(()=>this.identifier_json.properties);get properties(){return t(this.#C)}set properties(e){s(this.#C,e)}#I=i(()=>!!(this.examples&&this.examples.length>0));get has_examples(){return t(this.#I)}set has_examples(e){s(this.#I,e)}#P=i(()=>!!this.deprecated_message);get is_deprecated(){return t(this.#P)}set is_deprecated(e){s(this.#P,e)}#A=i(()=>!!this.doc_comment);get has_documentation(){return t(this.#A)}set has_documentation(e){s(this.#A,e)}#L=i(()=>!!(this.parameters&&this.parameters.length>0));get has_parameters(){return t(this.#L)}set has_parameters(e){s(this.#L,e)}#M=i(()=>!!(this.props&&this.props.length>0));get has_props(){return t(this.#M)}set has_props(e){s(this.#M,e)}#D=i(()=>!!(this.generic_params&&this.generic_params.length>0));get has_generics(){return t(this.#D)}set has_generics(e){s(this.#D,e)}constructor(e,o){this.module=e,this.identifier_json=o}}class Q{#e=u();get pkg(){return t(this.#e)}set pkg(e){s(this.#e,e)}#t=u();get module_json(){return t(this.#t)}set module_json(e){s(this.#t,e)}#s=i(()=>this.module_json.path);get path(){return t(this.#s)}set path(e){s(this.#s,e)}#i=i(()=>"./"+this.path);get path_import(){return t(this.#i)}set path_import(e){s(this.#i,e)}#r=i(()=>this.module_json.module_comment);get module_comment(){return t(this.#r)}set module_comment(e){s(this.#r,e)}#n=i(()=>this.module_json.identifiers?this.module_json.identifiers.filter(e=>e.name!=="default").map(e=>new B(this,e)):[]);get identifiers(){return t(this.#n)}set identifiers(e){s(this.#n,e)}#o=i(()=>R(this.path));get url_api(){return t(this.#o)}set url_api(e){s(this.#o,e)}#a=i(()=>this.pkg.repo_url?b(this.pkg.repo_url,`src/lib/${this.path}`):void 0);get url_github(){return t(this.#a)}set url_github(e){s(this.#a,e)}#p=i(()=>!!(this.module_json.identifiers&&this.module_json.identifiers.length>0));get has_identifiers(){return t(this.#p)}set has_identifiers(e){s(this.#p,e)}#h=i(()=>!!this.module_json.module_comment);get has_module_comment(){return t(this.#h)}set has_module_comment(e){s(this.#h,e)}#_=i(()=>this.module_json.dependencies);get dependencies(){return t(this.#_)}set dependencies(e){s(this.#_,e)}#l=i(()=>this.module_json.dependents);get dependents(){return t(this.#l)}set dependents(e){s(this.#l,e)}constructor(e,o){this.pkg=e,this.module_json=o}get_identifier_by_name(e){return this.identifiers.find(o=>o.name===e)}}class te{#e=u();get package_json(){return t(this.#e)}set package_json(e){s(this.#e,e)}#t=u();get src_json(){return t(this.#t)}set src_json(e){s(this.#t,e)}#s=i(()=>this.package_json.name);get name(){return t(this.#s)}set name(e){s(this.#s,e)}#i=i(()=>N(this.package_json.name));get repo_name(){return t(this.#i)}set repo_name(e){s(this.#i,e)}#r=i(()=>(()=>{const e=z(this.package_json.repository);if(!e)throw Error("failed to parse pkg - `repo_url` is required in package_json");return e})());get repo_url(){return t(this.#r)}set repo_url(e){s(this.#r,e)}#n=i(()=>this.repo_url?W(this.repo_url):null);get owner_name(){return t(this.#n)}set owner_name(e){s(this.#n,e)}#o=i(()=>this.package_json.homepage??null);get homepage_url(){return t(this.#o)}set homepage_url(e){s(this.#o,e)}#a=i(()=>K(this.homepage_url,this.package_json.logo));get logo_url(){return t(this.#a)}set logo_url(e){s(this.#a,e)}#p=i(()=>this.package_json.logo_alt??`logo for ${this.repo_name}`);get logo_alt(){return t(this.#p)}set logo_alt(e){s(this.#p,e)}#h=i(()=>F(this.package_json));get published(){return t(this.#h)}set published(e){s(this.#h,e)}#_=i(()=>this.published?q(this.package_json.name):null);get npm_url(){return t(this.#_)}set npm_url(e){s(this.#_,e)}#l=i(()=>this.published&&this.repo_url?b(this.repo_url,"CHANGELOG.md"):null);get changelog_url(){return t(this.#l)}set changelog_url(e){s(this.#l,e)}#u=i(()=>S(this.repo_url,this.repo_name));get org_url(){return t(this.#u)}set org_url(e){s(this.#u,e)}#m=i(()=>this.src_json.modules?this.src_json.modules.map(e=>new Q(this,e)):[]);get modules(){return t(this.#m)}set modules(e){s(this.#m,e)}#d=i(()=>[...this.modules].sort((e,o)=>e.path.localeCompare(o.path)));get modules_sorted(){return t(this.#d)}set modules_sorted(e){s(this.#d,e)}#c=i(()=>this.modules.flatMap(e=>e.identifiers));get identifiers(){return t(this.#c)}set identifiers(e){s(this.#c,e)}#g=i(()=>new Map(this.identifiers.map(e=>[e.name,e])));get identifier_map(){return t(this.#g)}set identifier_map(e){s(this.#g,e)}constructor(e,o){this.package_json=e,this.src_json=o}lookup_identifier(e){return this.identifier_map.get(e)}has_identifier(e){return this.identifier_map.has(e)}lookup_module(e){return this.modules.find(o=>o.path===e)}search_identifiers(e){return V(this.identifiers,e)}}const se=L(),V=(r,e)=>{if(!e.trim())return[];const o=e.trim().toLowerCase().split(/\s+/);return r.map(a=>{let l=0;for(const m of o){const $=c(a.name,m),d=c(a.kind,m),v=c(a.module_path,m),w=Math.max($,d,v);if(w===0)return null;l+=w}return{identifier:a,score:l}}).filter(a=>a!==null).sort((a,l)=>l.score-a.score||a.identifier.name.localeCompare(l.identifier.name)).map(a=>a.identifier)},c=(r,e)=>{const o=r.toLowerCase();if(o===e)return 100;if(o.startsWith(e))return 80;if(o.includes(e))return 60;let h=0;for(const a of o)if(a===e[h]&&(h++,h===e.length))return 40;return 0};export{te as P,ee as a,se as p,z as r,b as u};
