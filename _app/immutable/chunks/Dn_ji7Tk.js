import"./DsnmJJEf.js";import{o as J,s as L}from"./Deyc5Mix.js";import{p as u,f as v,J as p,b as c,c as x,d as f,r as l,a as g,s as j,o as q,y as z,t as B}from"./BQn7ASOj.js";import{i as F}from"./B43et0-h.js";import{e as G}from"./CXpB82Th.js";import{d as I,a as S,C as K}from"./D4d0cwnP.js";import{p as M}from"./DmwK15cx.js";import{p as N}from"./DPwDMO-p.js";import{r as O}from"./PNKK8Jw-.js";import{s as P}from"./QeaNnfvq.js";import{a as Q,i as R,H as U}from"./Bd0Fx9i5.js";import{d as b}from"./ByU9M1-j.js";const k=I();var V=v("<section><!></section>");function me(m,e){u(e,!0);const s=b.get();let a;k.set(t=>{a=t});var o=V();S(o,()=>({...e.attrs}));var d=f(o);p(d,()=>e.children),l(o),Q(o,(t,i)=>R?.(t,i),()=>({intersecting:t})=>{a&&(t?s.slugs_onscreen.add(a):s.slugs_onscreen.delete(a))}),c(m,o),x()}let W=0;var X=v("<div><!></div> <!>",1),Y=v("<header><!></header>");function _e(m,e){u(e,!0);const s=M(e,"tag",3,"h3"),a=P(e.text),o=k.get();if(!o)throw Error("Tome_Section_Header must be a child of Tome_Section");o(a);const d="tome_section_header_"+W++,t=b.get();N.url.pathname!==O(t.root_path)&&(t.add(d,e.text,a,s()),J(()=>{t.remove(d)}));var i=Y(),T=f(i);G(T,s,!1,(H,y)=>{S(H,()=>({...e.attrs,[K]:{tome_section_header:!0}}),void 0,void 0,"svelte-3vtdd8");var h=X(),_=g(h),C=f(_);{var w=r=>{var n=q(),E=g(n);p(E,()=>e.children),c(r,n)},A=r=>{var n=z();B(()=>L(n,e.text)),c(r,n)};F(C,r=>{e.children?r(w):r(A,!1)})}l(_);var D=j(_,2);U(D,{get slug(){return a}}),c(y,h)}),l(i),c(m,i),x()}export{me as T,_e as a};
