import{t as j,a as _,c as D,b as C}from"./CP7485SI.js";import{k as K,m as M,l as N,an as Q,ao as S,f as b,c as T,r as y,s as I,t as H,p as E,j as u,u as x,X as V,a as F,n as W}from"./D8J4TNL3.js";import{i as L}from"./CUK0UR2V.js";import{a as w,b as A,s as Z}from"./Dt8PonAD.js";import{p as $}from"./CqEO-wXE.js";import{s as O}from"./QeaNnfvq.js";import{p as P}from"./yBy8oLYE.js";import{b as ee}from"./DP-qq0bH.js";import{s as te}from"./BaXQBk7o.js";import{e as se}from"./Bp84Def_.js";import{o as ae}from"./CdRxv21h.js";import{a as U,d as X,b as ne,D as oe}from"./CVPfZL5Z.js";function q(d,a,t){K(()=>{var e=M(()=>a(d,t==null?void 0:t())||{});if(t&&(e!=null&&e.update)){var r=!1,c={};N(()=>{var i=t();Q(i),r&&S(c,i)&&(c=i,e.update(i))}),r=!0}if(e!=null&&e.destroy)return()=>e.destroy()})}var re=j('<a class="hashlink svelte-63dm5j" aria-label="hashlink"><!></a> <span class="hashlink_scroll_target svelte-63dm5j" aria-hidden="true"></span>',1);function ie(d,a){var t=re(),e=b(t),r=T(e);{var c=n=>{var f=D(),m=b(f);A(m,()=>a.children),_(n,f)},i=n=>{var f=C("#");_(n,f)};L(r,n=>{a.children?n(c):n(i,!1)})}y(e);var l=I(e,2);H(()=>{w(e,"href",`#${a.slug??""}`),w(l,"id",a.slug)}),_(d,t)}const B=(d,a=V)=>{W();var t=C();H(()=>te(t,a())),_(d,t)};let ce=0;var le=j("<a><!></a>"),de=j("<!> <!>",1);function fe(d,a){E(a,!0);const t=U.get(),e="tome_header_"+ce++,r=X.get(),c=O(t.name);r.add(e,t.name,c),ae(()=>{r.remove(e)});const i=x(()=>ne(c,P.url.pathname)),l=x(()=>u(i).path),n=x(()=>u(i).path_is_selected);var f=D(),m=b(f);se(m,()=>u(n)?"h1":"h2",!1,(p,o)=>{let s;H(()=>s=Z(p,s,{...a.attrs,class:"tome_header"},"svelte-d05s6w"));var g=de(),R=b(g);{var Y=v=>{B(v,()=>t.name)},z=v=>{var k=le(),J=T(k);B(J,()=>t.name),y(k),H(()=>w(k,"href",u(l))),_(v,k)};L(R,v=>{u(n)?v(Y):v(z,!1)})}var G=I(R,2);ie(G,{slug:c}),_(o,g)}),_(d,f),F()}const h=(d,a)=>{let t,e,r,c,i,l,n,f;const m=s=>{f=s,l=0,typeof s=="function"?(t=s,e=void 0,r=void 0,c=void 0):s&&(t=s.onintersect,e=s.ondisconnect,r=s.count,c=s.options),p()},p=()=>{n&&o(),!(f===null||r===0)&&(n=new IntersectionObserver(s=>{i=s[0].isIntersecting,t&&n&&t({intersecting:i,intersections:l,el:d,observer:n,disconnect:o}),i?l++:r&&r>0&&l>=r&&o()},c),n.observe(d))},o=()=>{n&&(n.disconnect(),e&&e({intersecting:i,intersections:l,el:d,observer:n}),n=null)};return m(a),{update:s=>{m(s)},destroy:o}};var _e=j('<section class="tome_content width_md mb_xl9"><header class="mb_xl3 position_sticky top_0"><!></header> <!></section>');function je(d,a){E(a,!0);const t=$(a,"docs_path",3,oe),e=X.get();U.set(a.tome);const r=O(a.tome.name),c=x(()=>P.url.pathname===ee+t());var i=_e(),l=T(i),n=T(l);{var f=o=>{var s=D(),g=b(s);A(g,()=>a.header),_(o,s)},m=o=>{fe(o,{})};L(n,o=>{a.header?o(f):o(m,!1)})}y(l),q(l,(o,s)=>h==null?void 0:h(o,s),()=>u(c)?null:({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)});var p=I(l,2);A(p,()=>a.children),y(i),q(i,(o,s)=>h==null?void 0:h(o,s),()=>u(c)?({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)}:null),_(d,i),F()}export{ie as H,je as T,q as a,h as i};
