import"./DsnmJJEf.js";import{p as H,f as b,O as C,b as d,c as q,d as v,r as p,ak as J,a as S,s as K,g as M,z as N,t as P,e as Q}from"./DK2cExHD.js";import{i as R}from"./D_aBVqBU.js";import{e as U}from"./C-NxhhSK.js";import{k as w,d as k,a as z,l as V,m as W,r as X,C as Y}from"./DxKgX8TW.js";import{r as A}from"./BOUiaEVR.js";import{p as T}from"./mXfYkfHZ.js";import{i as Z,H as $}from"./DxOKwkEj.js";const D=k(),u=k(()=>0),x=k();var ee=b("<section><!></section>");function me(l,e){H(e,!0);const f=A(e,["$$slots","$$events","$$legacy","children"]),t=w.get(),n=u.get()+1;u.set(n);const i=x.get_maybe(),m=t.generate_section_id();x.set(m);let r;D.set(a=>(r=a,i));var s=ee();z(s,()=>({...f}));var c=v(s);C(c,()=>e.children),p(s),V(s,()=>Z(()=>({intersecting:a})=>{r&&(a?t.fragments_onscreen.add(r):t.fragments_onscreen.delete(r))})),d(l,s),q()}var te=b('<div class="flex_1"><!></div> <!>',1),se=b("<header><!></header>");function le(l,e){H(e,!0);const f=A(e,["$$slots","$$events","$$legacy","text","tag","children"]),t=W(e.text),h=D.get();if(!h)throw Error("Tome_Section_Header must be a child of Tome_Section");const n=w.get(),i=u.get(),m=e.tag??(i===1?"h2":i===2?"h3":"h4"),r=x.get(),s=h(t);let c;T.url.pathname!==X(n.root_path)&&(c=n.add(t,e.text,T.url.pathname,m,i,s,r)),J(()=>{c&&n.remove(c)});var a=se(),E=v(a);U(E,()=>m,!1,(L,O)=>{z(L,()=>({...f,[Y]:{tome_section_header:!0}}),void 0,void 0,void 0,"svelte-1dqrbic");var y=te(),g=S(y),j=v(g);{var B=o=>{var _=M(),I=S(_);C(I,()=>e.children),d(o,_)},F=o=>{var _=N();P(()=>Q(_,e.text)),d(o,_)};R(j,o=>{e.children?o(B):o(F,!1)})}p(g);var G=K(g,2);$(G,{get fragment(){return t}}),d(O,y)}),p(a),d(l,a),q()}export{me as T,le as a};
