import"./DsnmJJEf.js";import{I as z,B as G,C as K,aW as M,aX as N,f as T,a as p,d as k,r as y,s as w,t as A,b as _,o as D,J as H,y as R,p as q,u,v as x,a3 as Q,c as E,x as S}from"./BQn7ASOj.js";import{i as j}from"./B43et0-h.js";import{p as V}from"./DmwK15cx.js";import{s as F}from"./QeaNnfvq.js";import{p as J}from"./Be_09SB9.js";import{r as Z}from"./CkF3_Za4.js";import{o as $,s as ee}from"./Deyc5Mix.js";import{e as te}from"./CXpB82Th.js";import{s as I,a as ae}from"./D4d0cwnP.js";import{a as O,d as P,b as se,D as ne}from"./15b3MNph.js";function B(d,a,s){z(()=>{var e=G(()=>a(d,s?.())||{});if(s&&e?.update){var r=!1,c={};K(()=>{var i=s();M(i),r&&N(c,i)&&(c=i,e.update(i))}),r=!0}if(e?.destroy)return()=>e.destroy()})}var oe=T('<a class="hashlink svelte-63dm5j" aria-label="hashlink"><!></a> <span class="hashlink_scroll_target svelte-63dm5j" aria-hidden="true"></span>',1);function re(d,a){var s=oe(),e=p(s),r=k(e);{var c=n=>{var f=D(),m=p(f);H(m,()=>a.children),_(n,f)},i=n=>{var f=R("#");_(n,f)};j(r,n=>{a.children?n(c):n(i,!1)})}y(e);var l=w(e,2);A(()=>{I(e,"href",`#${a.slug??""}`),I(l,"id",a.slug)}),_(d,s)}const C=(d,a=Q)=>{S();var s=R();A(()=>ee(s,a())),_(d,s)};let ie=0;var ce=T("<a><!></a>"),le=T("<!> <!>",1);function de(d,a){q(a,!0);const s=O.get(),e="tome_header_"+ie++,r=P.get(),c=F(s.name);r.add(e,s.name,c),$(()=>{r.remove(e)});const i=x(()=>se(c,J.url.pathname)),l=x(()=>u(i).path),n=x(()=>u(i).path_is_selected);var f=D(),m=p(f);te(m,()=>u(n)?"h1":"h2",!1,(h,o)=>{ae(h,()=>({...a.attrs,class:"tome_header"}),void 0,void 0,"svelte-d05s6w");var t=le(),g=p(t);{var U=v=>{C(v,()=>s.name)},W=v=>{var b=ce(),Y=k(b);C(Y,()=>s.name),y(b),A(()=>I(b,"href",u(l))),_(v,b)};j(g,v=>{u(n)?v(U):v(W,!1)})}var X=w(g,2);re(X,{get slug(){return c}}),_(o,t)}),_(d,f),E()}const L=(d,a)=>{let s,e,r,c,i,l,n,f;const m=t=>{f=t,l=0,typeof t=="function"?(s=t,e=void 0,r=void 0,c=void 0):t&&(s=t.onintersect,e=t.ondisconnect,r=t.count,c=t.options),h()},h=()=>{n&&o(),!(f===null||r===0)&&(n=new IntersectionObserver(t=>{i=t[0].isIntersecting,s&&n&&s({intersecting:i,intersections:l,el:d,observer:n,disconnect:o}),i?l++:r&&r>0&&l>=r&&o()},c),n.observe(d))},o=()=>{n&&(n.disconnect(),e&&e({intersecting:i,intersections:l,el:d,observer:n}),n=null)};return m(a),{update:t=>{m(t)},destroy:o}};var fe=T('<section class="tome_content width_upto_md mb_xl9"><header class="mb_xl3 position_sticky top_0"><!></header> <!></section>');function Te(d,a){q(a,!0);const s=V(a,"docs_path",3,ne),e=P.get();O.set(a.tome);const r=F(a.tome.name),c=x(()=>J.url.pathname===Z(s()));var i=fe(),l=k(i),n=k(l);{var f=o=>{var t=D(),g=p(t);H(g,()=>a.header),_(o,t)},m=o=>{de(o,{})};j(n,o=>{a.header?o(f):o(m,!1)})}y(l),B(l,(o,t)=>L?.(o,t),()=>u(c)?null:({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)});var h=w(l,2);H(h,()=>a.children),y(i),B(i,(o,t)=>L?.(o,t),()=>u(c)?({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)}:null),_(d,i),E()}export{re as H,Te as T,B as a,L as i};
