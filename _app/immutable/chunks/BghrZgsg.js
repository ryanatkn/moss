import"./DsnmJJEf.js";import{z as Y,B as G,A as K,aW as M,aX as N,f as T,a as g,d as k,r as y,s as w,t as D,b as _,o as I,J as A,y as q,p as z,u as v,v as x,a3 as Q,c as C,x as S}from"./CJxMCMyS.js";import{i as j}from"./DrC4vqkm.js";import{p as V}from"./DgKMggQV.js";import{s as E}from"./QeaNnfvq.js";import{p as F}from"./C6UO3HHY.js";import{r as Z}from"./Cxz3G_01.js";import{o as $,s as ee}from"./DuvuLKkg.js";import{e as te}from"./BcgzxNAm.js";import{s as H,a as ae}from"./RH6UyQyv.js";import{a as J,d as O,b as se,D as ne}from"./BwSM0fFn.js";function B(d,a,s){Y(()=>{var e=G(()=>a(d,s?.())||{});if(s&&e?.update){var r=!1,c={};K(()=>{var i=s();M(i),r&&N(c,i)&&(c=i,e.update(i))}),r=!0}if(e?.destroy)return()=>e.destroy()})}var oe=T('<a class="hashlink svelte-63dm5j" aria-label="hashlink"><!></a> <span class="hashlink_scroll_target svelte-63dm5j" aria-hidden="true"></span>',1);function re(d,a){var s=oe(),e=g(s),r=k(e);{var c=n=>{var f=I(),m=g(f);A(m,()=>a.children),_(n,f)},i=n=>{var f=q("#");_(n,f)};j(r,n=>{a.children?n(c):n(i,!1)})}y(e);var l=w(e,2);D(()=>{H(e,"href",`#${a.slug??""}`),H(l,"id",a.slug)}),_(d,s)}const L=(d,a=Q)=>{S();var s=q();D(()=>ee(s,a())),_(d,s)};let ie=0;var ce=T("<a><!></a>"),le=T("<!> <!>",1);function de(d,a){z(a,!0);const s=J.get(),e="tome_header_"+ie++,r=O.get(),c=E(s.name);r.add(e,s.name,c),$(()=>{r.remove(e)});const i=x(()=>se(c,F.url.pathname)),l=x(()=>v(i).path),n=x(()=>v(i).path_is_selected);var f=I(),m=g(f);te(m,()=>v(n)?"h1":"h2",!1,(h,o)=>{ae(h,()=>({...a.attrs,class:"tome_header"}),void 0,void 0,"svelte-d05s6w");var t=le(),p=g(t);{var P=u=>{L(u,()=>s.name)},U=u=>{var b=ce(),X=k(b);L(X,()=>s.name),y(b),D(()=>H(b,"href",v(l))),_(u,b)};j(p,u=>{v(n)?u(P):u(U,!1)})}var W=w(p,2);re(W,{get slug(){return c}}),_(o,t)}),_(d,f),C()}const R=(d,a)=>{let s,e,r,c,i,l,n,f;const m=t=>{f=t,l=0,typeof t=="function"?(s=t,e=void 0,r=void 0,c=void 0):t&&(s=t.onintersect,e=t.ondisconnect,r=t.count,c=t.options),h()},h=()=>{n&&o(),!(f===null||r===0)&&(n=new IntersectionObserver(t=>{i=t[0].isIntersecting,s&&n&&s({intersecting:i,intersections:l,el:d,observer:n,disconnect:o}),i?l++:r&&r>0&&l>=r&&o()},c),n.observe(d))},o=()=>{n&&(n.disconnect(),e&&e({intersecting:i,intersections:l,el:d,observer:n}),n=null)};return m(a),{update:t=>{m(t)},destroy:o}};var fe=T('<section class="tome_content width_md mb_xl9"><header class="mb_xl3 position_sticky top_0"><!></header> <!></section>');function Te(d,a){z(a,!0);const s=V(a,"docs_path",3,ne),e=O.get();J.set(a.tome);const r=E(a.tome.name),c=x(()=>F.url.pathname===Z(s()));var i=fe(),l=k(i),n=k(l);{var f=o=>{var t=I(),p=g(t);A(p,()=>a.header),_(o,t)},m=o=>{de(o,{})};j(n,o=>{a.header?o(f):o(m,!1)})}y(l),B(l,(o,t)=>R?.(o,t),()=>v(c)?null:({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)});var h=w(l,2);A(h,()=>a.children),y(i),B(i,(o,t)=>R?.(o,t),()=>v(c)?({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)}:null),_(d,i),C()}export{re as H,Te as T,B as a,R as i};
