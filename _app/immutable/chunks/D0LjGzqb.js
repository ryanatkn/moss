import"./DsnmJJEf.js";import{p as Q,az as Te,i as t,aj as P,a8 as S,ak as Le,f as T,d as o,O as ve,r as a,t as K,b as i,c as X,aE as Be,aF as De,s as n,g as re,a as W,ai as ce,u as G,e as te,a7 as fe,y as U,z as Z,a1 as Re}from"./DK2cExHD.js";import{i as q}from"./D_aBVqBU.js";import{T as Ne}from"./DxOKwkEj.js";import{s as ie,i as Ce,n as Fe,h as Se,a as Ue,C as We,B as le,E as be}from"./DxKgX8TW.js";import{b as de}from"./Bz7eG5UC.js";import{p as L,r as He}from"./BOUiaEVR.js";import{s as ae,a as Je,C as Ye}from"./8_t1QLQL.js";import{g as Ve}from"./vYFwxCoZ.js";import{T as pe}from"./DSJMNmTD.js";import{T as ge,a as ye}from"./sUCIWbZj.js";import{t as Ge,e as Ke}from"./CFp92poa.js";import{M as oe}from"./DM_9pu72.js";import{M as we}from"./BpKKlYiL.js";import{b as Qe}from"./BHjdu1yz.js";import{C as Xe}from"./C3pczHOU.js";import{t as xe,a as Ze,s as $e}from"./BQ8P_JXA.js";import{d as et}from"./BSLhL1FI.js";import{U as Ee}from"./DbwGDhjg.js";const tt=(b=0)=>new Promise(e=>setTimeout(e,b));var at=T('<div class="teleport svelte-lzvxo0"><!></div>');function ot(b,e){Q(e,!0);let l=P(void 0);Te(()=>{t(l)&&e.to&&w(t(l),e.to)});let g=P(!1);const w=(_,c)=>{S(g,!0),c.appendChild(_),e.onmove?.(_,c)};Le(()=>{t(l)?.parentNode?.removeChild(t(l))});var s=at(),v=o(s);ve(v,()=>e.children),a(s),de(s,_=>S(l,_),()=>t(l)),K(()=>ie(s,"hidden",!t(g))),i(b,s),X()}var rt=T('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-9uwxz7"><div class="dialog_wrapper svelte-9uwxz7" role="none"><div class="dialog_bg svelte-9uwxz7" aria-hidden="true"></div> <div class="dialog_content svelte-9uwxz7"><!></div></div></div></div>');function ze(b,e){Q(e,!0);const l=L(e,"layout",3,"centered"),g=L(e,"index",3,0),w=L(e,"active",3,!0),s=L(e,"content_selector",3,".pane"),v="body",_="fuz_dialog";let c=P(void 0);Te(()=>{x(e.container)});const x=d=>{if(d)S(c,d,!0);else{const m=document.getElementById(_);if(m)S(c,m,!0);else{const u=document.querySelector(v);if(!u)throw Error(`Cannot find dialog root element with selector '${v}'`);S(c,document.createElement("div"),!0),t(c).id=_,t(c).style.display="contents",u.appendChild(t(c))}}};let f=P(void 0),y=P(void 0);const E=d=>{d&&ae(d),e.onclose?.()},h=d=>{if(d.key==="Escape"&&!Je(d.target)){const m=t(f)?.parentElement,u=m?.parentElement?.children,k=Array.prototype.indexOf.call(u,m);(!u||k===u.length-1||k===-1)&&E(d)}};let p=P(!1);Be("keydown",De,function(...d){(w()?h:void 0)?.apply(this,d)}),ot(b,{get to(){return t(c)},onmove:async()=>{await tt(),S(p,!0),t(f)?.focus()},children:(d,m)=>{var u=rt();let k,j;var B=o(u),D=o(B);D.__mousedown=I=>{const z=I.target;t(y)&&(t(y)===z||!t(y).contains(z)||s()&&!z.closest(s()))&&E(I)};var M=n(o(D),2),A=o(M);{var O=I=>{var z=re(),R=W(z);ve(R,()=>e.children,()=>E),i(I,z)};q(A,I=>{t(p)&&I(O)})}a(M),de(M,I=>S(y,I),()=>t(y)),a(D),a(B),a(u),de(u,I=>S(f,I),()=>t(f)),K(()=>{k=Ce(u,1,"dialog svelte-9uwxz7",null,k,{ready:t(p),layout_page:l()==="page"}),j=Fe(u,"",j,{"z-index":100+g()})}),i(d,u)},$$slots:{default:!0}}),X()}ce(["mousedown"]);var nt=T('<button type="button" class="icon_button plain ml_sm">•••</button>'),st=T('<li class="row svelte-1wd4nw1" role="none"><button type="button" role="menuitemradio"> </button> <!></li>'),it=T('<menu class="theme_input unstyled"></menu>');function lt(b,e){Q(e,!0);const l=L(e,"selected_theme",23,()=>Ge.get()),g=L(e,"themes",3,Ke),w=L(e,"enable_editing",3,!1),s=L(e,"select",3,_=>{l().theme=_});var v=it();Se(v,21,g,_=>_.name,(_,c)=>{const x=G(()=>t(c).name===l().theme.name);var f=st(),y=o(f);let E;y.__click=m=>{ae(m),s()?.(t(c))!==!1&&e.onselect?.(t(c))};var h=o(y,!0);a(y);var p=n(y,2);{var d=m=>{var u=nt();u.__click=k=>{ae(k),e.onedit?.(t(c))},i(m,u)};q(p,m=>{w()&&m(d)})}a(f),K(()=>{E=Ce(y,1,"theme_button color_a svelte-1wd4nw1",null,E,{selected:t(x)}),ie(y,"aria-label",`${t(c).name??""} theme`),ie(y,"aria-checked",t(x)),te(h,t(c).name)}),i(_,f)}),a(v),i(b,v),X()}ce(["click"]);const dt={name:"base",variables:[]},Ie=[dt,{name:"low contrast",variables:[{name:"tint_saturation",light:"8%"},{name:"bg",light:"hsl(var(--tint_hue) var(--tint_saturation) 86%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 18%)"}]},{name:"high contrast",variables:[{name:"bg",light:"#fff",dark:"#000"},{name:"text_color_2",light:"hsl(var(--tint_hue) var(--tint_saturation) 8%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 90%)"},{name:"text_color_3",light:"hsl(var(--tint_hue) var(--tint_saturation) 16%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 83%)"},{name:"text_color_5",light:"hsl(var(--tint_hue) var(--tint_saturation) 24%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 75%)"}]}];var vt=T("<div>✓</div>"),ct=T("<div>⧉</div>"),_t=T("<button><!></button>");function ut(b,e){Q(e,!0);const l=L(e,"copied_display_duration",3,1e3),g=L(e,"icon_button",3,!0),w=He(e,["$$slots","$$events","$$legacy","text","copied_display_duration","allow_copying_empty_string","icon_button","oncopy","disabled","children","class"]);let s=P(!1),v=P(!1),_;const c=async h=>{if(clearTimeout(_),e.text!==null){S(s,!1),S(v,!1);try{await navigator.clipboard.writeText(e.text),S(s,!0)}catch{S(v,!0);return}_=setTimeout(()=>{S(s,!1)},l()),e.oncopy?.(e.text,h)}};var x=_t();Ue(x,()=>({type:"button",title:"copy to clipboard",...w,class:`copy_to_clipboard ${e.class??""}`,onclick:c,disabled:e.disabled??(e.allow_copying_empty_string?e.text===null:!e.text),[We]:{icon_button:e.children?!1:g(),copied:t(s),failed:t(v),color_c:t(v)}}));var f=o(x);{var y=h=>{var p=re(),d=W(p);ve(d,()=>e.children,()=>t(s),()=>t(v)),i(h,p)},E=h=>{var p=re(),d=W(p);{var m=k=>{var j=vt();xe(1,j,()=>Ze,()=>({duration:200})),i(k,j)},u=k=>{var j=ct();xe(1,j,()=>$e),i(k,j)};q(d,k=>{t(s)?k(m):k(u,!1)},!0)}i(h,p)};q(f,h=>{e.children?h(y):h(E,!1)})}a(x),i(b,x),X()}const mt=(b,e={})=>{const{comments:l=!1,id:g=null,empty_default_theme:w=!0,specificity:s=2}=e,v=b.name===Ie[0].name?w?null:et:b.variables;if(!v?.length)return"";const _=v.map(f=>ke(f)).filter(Boolean),c=v.map(f=>ke(f,!0,l)).filter(Boolean),x=(g?"#"+g:":root").repeat(s);return`${_.length?`${x} {
	${_.join(`
	`)}
}`:""}
${c.length?`${x}.dark {
	${c.join(`
	`)}
}`:""}
`.trim()},ke=(b,e=!1,l=!0)=>{const g=e?b.dark:b.light;return g?"--"+b.name+": "+g+";"+(l&&b.summary?" /* "+b.summary+" */":""):""};var ht=T("<blockquote> </blockquote>"),ft=T('<div class="variable svelte-asq0n8"><div class="usage svelte-asq0n8"><div class="title svelte-asq0n8">variable</div> <code class="svelte-asq0n8"> </code></div> <!> <label><div class="title">light</div> <input disabled/></label> <label><div class="title">dark</div> <input disabled/></label></div>');function bt(b,e){Q(e,!0);var l=re(),g=W(l);{var w=s=>{var v=ft(),_=o(v),c=n(o(_),2),x=o(c);a(c),a(_);var f=n(_,2);{var y=m=>{var u=ht(),k=o(u,!0);a(u),K(()=>te(k,e.variable.summary)),i(m,u)};q(f,m=>{e.variable.summary&&m(y)})}var E=n(f,2),h=n(o(E),2);le(h),a(E);var p=n(E,2),d=n(o(p),2);le(d),a(p),a(v),K(()=>{te(x,`--${e.variable.name??""}`),be(h,e.variable.light??""),be(d,e.variable.dark??"")}),i(s,v)};q(g,s=>{e.variable&&s(w)})}i(b,l),X()}var pt=T('<button type="button" class="variable menu_item svelte-14dxjni"> </button>'),gt=T('<div class="copy svelte-14dxjni"><!></div> <!>',1),yt=T('<div class="pane p_md width_upto_md mx_auto"><div class="panel p_lg box"><!> <!> <button type="button">ok</button></div></div>'),wt=T(`<div class="theme_form svelte-14dxjni"><h2 class="text_align_center"><!> theme</h2> <aside>Creating and editing themes at runtime is a work in progress, but you can click around to see
		where it's going!</aside> <header class="svelte-14dxjni"><div class="variables_header svelte-14dxjni"><p> </p> <button type="button" class="width_100" disabled>add a variable</button></div> <form class="svelte-14dxjni"><label><div class="title">name</div> <input placeholder=">"/></label> <button type="button"><!></button></form></header> <div class="content svelte-14dxjni"><div class="variables svelte-14dxjni"></div> <div class="rendered svelte-14dxjni"><!></div></div></div> <!>`,1);function xt(b,e){Q(e,!0);const l=L(e,"theme",3,null);let g=P(fe(l()?l().name:"new theme")),w=P(fe(l()?l().variables:[]));const s=G(()=>({name:t(g),variables:t(w)})),v=G(()=>mt(t(s),{empty_default_theme:!1,specificity:1})),_=G(()=>t(w).reduce((r,C)=>C.light?r+1:r,0)),c=G(()=>t(w).reduce((r,C)=>C.dark?r+1:r,0));let x=P(null);const f=()=>{t(p)&&e.onsave?.(t(s))},y=(r,C)=>{ae(r),S(x,C,!0),S(w,t(w).slice(),!0)},E=r=>{ae(r),alert("TODO")},h=G(()=>!!l()),p=G(()=>l()?t(g)!==l().name||t(w)!==l().variables:!0);var d=wt(),m=W(d),u=o(m),k=o(u);{var j=r=>{var C=Z("edit");i(r,C)},B=r=>{var C=Z("create");i(r,C)};q(k,r=>{t(h)?r(j):r(B,!1)})}U(),a(u);var D=n(u,4),M=o(D),A=o(M),O=o(A);a(A);var I=n(A,2);I.__click=E,a(M);var z=n(M,2),R=o(z),Y=n(o(R),2);le(Y),a(R);var N=n(R,2);N.__click=f;var ne=o(N);{var se=r=>{var C=Z("save changes");i(r,C)},H=r=>{var C=Z("create theme");i(r,C)};q(ne,r=>{t(h)?r(se):r(H,!1)})}a(N),a(z),a(D);var $=n(D,2),J=o($);Se(J,21,()=>t(w),r=>r.name,(r,C)=>{var F=pt();F.__click=V=>y(V,t(C));var ee=o(F);a(F),K(()=>te(ee,`--${t(C).name??""}`)),i(r,F)}),a(J);var _e=n(J,2),Me=o(_e);{var je=r=>{var C=gt(),F=W(C),ee=o(F);ut(ee,{get text(){return t(v)}}),a(F);var V=n(F,2);Xe(V,{get content(){return t(v)},lang:"css"}),i(r,C)};q(Me,r=>{t(v)&&r(je)})}a(_e),a($),a(m);var Pe=n(m,2);{var Ae=r=>{ze(r,{onclose:()=>S(x,null),children:(F,ee=Re)=>{var V=yt(),ue=o(V),me=o(ue);bt(me,{get variable(){return t(x)}});var he=n(me,2);Ee(he,{});var Oe=n(he,2);Oe.__click=function(...qe){ee()?.apply(this,qe)},a(ue),a(V),i(F,V)},$$slots:{default:!0}})};q(Pe,r=>{t(x)&&r(Ae)})}K(()=>{te(O,`variables: ${t(_)??""} light, ${t(c)??""} dark`),N.disabled=!t(p)}),Qe(Y,()=>t(g),r=>S(g,r)),i(b,d),X()}ce(["click"]);var kt=T(`<!> <p>Moss supports <!> with dark and light modes. To apply dark mode manually,
			add the <code>dark</code> class to the root <code>html</code> element.</p> <p>The Fuz integration detects the default with <!>, and users can also set it directly
			with a component like <a href="https://github.com/ryanatkn/fuz/blob/main/src/lib/Color_Scheme_Input.svelte">this one</a>:</p> <div class="display_flex mb_lg"><!></div> <p>The builtin themes support both dark and light color schemes. Custom themes may support one or
			both color schemes.</p>`,1),Tt=T("<code>@ryanatkn/moss/theme.ts</code>"),Ct=T("<code>@ryanatkn/moss/themes.ts</code>"),St=T(`<!> <p>A theme is a simple JSON collection of <!> that can be transformed into
			CSS that set custom properties. Each variable can have values for light and/or dark color schemes.
			In other words, "dark" isn't a theme, it's a mode that any theme can implement.</p> <p>These docs are a work in progress, for now see <!> and <!>.</p> <div class="width_upto_xs mb_lg"><!></div> <!>`,1),Et=T(`<section><p>Moss supports both the browser's <!> and custom themes based on <!>, which use <!>.</p> <p>Moss works with any JS framework, but it provides only stylesheets, not integrations. This
			website uses my Svelte UI library <a href="https://www.fuz.dev/">Fuz</a> to provide the UI below to control the Moss color scheme and themes.</p></section> <!> <!>`,1),zt=T('<div class="pane p_md width_upto_md mx_auto"><div class="theme_editor_wrapper svelte-30iokt"><!></div></div>'),It=T("<!>  <!>",1);function Kt(b,e){Q(e,!0);const g=Ve("themes"),w=Ie.slice();let s=P(null);var v=It(),_=W(v);Ne(_,{get tome(){return g},children:(f,y)=>{var E=Et(),h=W(E),p=o(h),d=n(o(p));oe(d,{path:"Web/CSS/color-scheme"});var m=n(d,2);pe(m,{name:"variables"});var u=n(m,2);oe(u,{path:"Web/CSS/--*",children:(B,D)=>{U();var M=Z("CSS custom properties");i(B,M)},$$slots:{default:!0}}),U(),a(p),U(2),a(h);var k=n(h,2);ge(k,{children:(B,D)=>{var M=kt(),A=W(M);ye(A,{text:"Color scheme"});var O=n(A,2),I=n(o(O));oe(I,{path:"Web/CSS/color-scheme"}),U(5),a(O);var z=n(O,2),R=n(o(z));oe(R,{path:"Web/CSS/@media/prefers-color-scheme"}),U(3),a(z);var Y=n(z,2),N=o(Y);Ye(N,{}),a(Y),U(2),i(B,M)},$$slots:{default:!0}});var j=n(k,2);ge(j,{children:(B,D)=>{var M=St(),A=W(M);ye(A,{text:"Builtin themes"});var O=n(A,2),I=n(o(O));pe(I,{name:"variables"}),U(),a(O);var z=n(O,2),R=n(o(z));we(R,{path:"theme.ts",children:(H,$)=>{var J=Tt();i(H,J)},$$slots:{default:!0}});var Y=n(R,2);we(Y,{path:"themes.ts",children:(H,$)=>{var J=Ct();i(H,J)},$$slots:{default:!0}}),U(),a(z);var N=n(z,2),ne=o(N);lt(ne,{get themes(){return w},enable_editing:!0,onedit:H=>S(s,H,!0)}),a(N);var se=n(N,2);Ee(se,{children:(H,$)=>{U();var J=Z("The builtin themes need more work, but the proof of concept is ready!");i(H,J)}}),i(B,M)},$$slots:{default:!0}}),i(f,E)},$$slots:{default:!0}});var c=n(_,2);{var x=f=>{ze(f,{onclose:()=>S(s,null),children:(y,E)=>{var h=zt(),p=o(h),d=o(p);xt(d,{get theme(){return t(s)},onsave:m=>{console.log("update theme",m),alert("todo")}}),a(p),a(h),i(y,h)},$$slots:{default:!0}})};q(c,f=>{t(s)&&f(x)})}i(b,v),X()}export{ze as D,bt as S,Kt as _};
