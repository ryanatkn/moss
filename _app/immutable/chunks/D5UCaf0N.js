import{t as j,a as _,c as D,b as B}from"./NVWS3V4U.js";import{k as M,m as N,l as Q,ao as S,ap as V,f as b,c as T,r as y,s as I,t as H,p as C,j as v,u as x,Y as W,a as E,n as X}from"./xlH9aj8z.js";import{i as L}from"./C6FgbUOg.js";import{a as w,b as A,s as Z}from"./Cpuy4IUX.js";import{p as $}from"./CbDHXh45.js";import{s as F}from"./QeaNnfvq.js";import{p as O}from"./CxH-vFmZ.js";import{b as ee}from"./BYGdqZtP.js";import{s as te}from"./iZ3s1Mxj.js";import{e as se}from"./Bx7YOaWH.js";import{o as ae}from"./BgMTMSKT.js";import{a as P,d as U,b as ne,D as oe}from"./CbQw4VQo.js";function Y(d,n,s){M(()=>{var e=N(()=>n(d,s==null?void 0:s())||{});if(s&&(e!=null&&e.update)){var r=!1,c={};Q(()=>{var i=s();S(i),r&&V(c,i)&&(c=i,e.update(i))}),r=!0}if(e!=null&&e.destroy)return()=>e.destroy()})}var re=j('<a class="hashlink svelte-63dm5j" aria-label="hashlink"><!></a> <span class="hashlink_scroll_target svelte-63dm5j" aria-hidden="true"></span>',1);function ie(d,n){var s=re(),e=b(s),r=T(e);{var c=o=>{var f=D(),m=b(f);A(m,()=>n.children),_(o,f)},i=o=>{var f=B("#");_(o,f)};L(r,o=>{n.children?o(c):o(i,!1)})}y(e);var l=I(e,2);H(()=>{w(e,"href",`#${n.slug??""}`),w(l,"id",n.slug)}),_(d,s)}const q=(d,n=W)=>{X();var s=B();H(()=>te(s,n())),_(d,s)};let ce=0;var le=j("<a><!></a>"),de=j("<!> <!>",1);function fe(d,n){C(n,!0);const s=P.get(),e="tome_header_"+ce++,r=U.get(),c=F(s.name);r.add(e,s.name,c),ae(()=>{r.remove(e)});const i=x(()=>ne(c,O.url.pathname)),l=x(()=>{let{path:u,path_is_selected:t}=v(i);return u}),o=x(()=>{let{path:u,path_is_selected:t}=v(i);return t});var f=D(),m=b(f);se(m,()=>v(o)?"h1":"h2",!1,(u,t)=>{let a;H(()=>a=Z(u,a,{...n.attrs,class:"tome_header"},"svelte-d05s6w"));var g=de(),R=b(g);{var z=h=>{q(h,()=>s.name)},G=h=>{var k=le(),K=T(k);q(K,()=>s.name),y(k),H(()=>w(k,"href",v(l))),_(h,k)};L(R,h=>{v(o)?h(z):h(G,!1)})}var J=I(R,2);ie(J,{slug:c}),_(t,g)}),_(d,f),E()}const p=(d,n)=>{let s,e,r,c,i,l,o,f;const m=a=>{f=a,l=0,typeof a=="function"?(s=a,e=void 0,r=void 0,c=void 0):a&&(s=a.onintersect,e=a.ondisconnect,r=a.count,c=a.options),u()},u=()=>{o&&t(),!(f===null||r===0)&&(o=new IntersectionObserver(a=>{i=a[0].isIntersecting,s&&o&&s({intersecting:i,intersections:l,el:d,observer:o,disconnect:t}),i?l++:r&&r>0&&l>=r&&t()},c),o.observe(d))},t=()=>{o&&(o.disconnect(),e&&e({intersecting:i,intersections:l,el:d,observer:o}),o=null)};return m(n),{update:a=>{m(a)},destroy:t}};var _e=j('<section class="tome_content width_md mb_xl9"><header class="mb_xl3 position_sticky top_0"><!></header> <!></section>');function je(d,n){C(n,!0);const s=$(n,"docs_path",3,oe),e=U.get();P.set(n.tome);const r=F(n.tome.name),c=x(()=>O.url.pathname===ee+s());var i=_e(),l=T(i),o=T(l);{var f=t=>{var a=D(),g=b(a);A(g,()=>n.header),_(t,a)},m=t=>{fe(t,{})};L(o,t=>{n.header?t(f):t(m,!1)})}y(l),Y(l,(t,a)=>p==null?void 0:p(t,a),()=>v(c)?null:({intersecting:t})=>{t?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)});var u=I(l,2);A(u,()=>n.children),y(i),Y(i,(t,a)=>p==null?void 0:p(t,a),()=>v(c)?({intersecting:t})=>{t?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)}:null),_(d,i),E()}export{ie as H,je as T,Y as a,p as i};
