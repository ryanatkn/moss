import"./DsnmJJEf.js";import{p as Q,az as Te,i as t,aj as P,a8 as S,ak as Be,f as T,d as o,O as ve,r as a,t as K,b as i,c as X,aE as De,aF as Re,s as n,g as re,a as j,ai as ce,u as G,e as te,a7 as fe,y as W,z as Z,a1 as Ne}from"./CY4wiuS3.js";import{i as L}from"./DOfSaUg8.js";import{T as Fe}from"./DVzlCFAH.js";import{s as ie,k as Ce,n as Ue,i as Se,a as We,C as je,B as le,E as be}from"./Dm8UkGpt.js";import{b as de}from"./wBCVOySL.js";import{p as B,r as He}from"./PCIVHSx7.js";import{s as ae,a as Je,C as Ye}from"./DNNpPwvS.js";import{g as Ve}from"./D6c6M4_I.js";import{T as pe}from"./DBPDr2xc.js";import{T as ge,a as ye}from"./Ck7SdJGG.js";import{t as Ge,e as Ke}from"./CRGC0rGH.js";import{M as oe}from"./A8_mQvs_.js";import{M as xe}from"./Rg_I3Wnt.js";import{b as Qe}from"./DeKkTy-b.js";import{C as Xe}from"./BYf3N5_6.js";import{t as we,a as Ze,s as $e}from"./CGMV28Wj.js";import{d as et}from"./BSLhL1FI.js";import{U as ze}from"./cCVtR1Ep.js";const tt=(b=0)=>new Promise(e=>setTimeout(e,b));var at=T('<div class="teleport svelte-lzvxo0"><!></div>');function ot(b,e){Q(e,!0);let l=P(void 0);Te(()=>{t(l)&&e.to&&x(t(l),e.to)});let g=P(!1);const x=(_,c)=>{S(g,!0),c.appendChild(_),e.onmove?.(_,c)};Be(()=>{t(l)?.parentNode?.removeChild(t(l))});var s=at(),v=o(s);ve(v,()=>e.children),a(s),de(s,_=>S(l,_),()=>t(l)),K(()=>ie(s,"hidden",!t(g))),i(b,s),X()}var rt=T('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-9uwxz7"><div class="dialog_wrapper svelte-9uwxz7" role="none"><div class="dialog_bg svelte-9uwxz7" aria-hidden="true"></div> <div class="dialog_content svelte-9uwxz7"><!></div></div></div></div>');function Ee(b,e){Q(e,!0);const l=B(e,"layout",3,"centered"),g=B(e,"index",3,0),x=B(e,"active",3,!0),s=B(e,"content_selector",3,".pane"),v="body",_="fuz_dialog";let c=P(void 0);Te(()=>{w(e.container)});const w=d=>{if(d)S(c,d,!0);else{const m=document.getElementById(_);if(m)S(c,m,!0);else{const u=document.querySelector(v);if(!u)throw Error(`Cannot find dialog root element with selector '${v}'`);S(c,document.createElement("div"),!0),t(c).id=_,t(c).style.display="contents",u.appendChild(t(c))}}};let f=P(void 0),y=P(void 0);const z=d=>{d&&ae(d),e.onclose?.()},h=d=>{if(d.key==="Escape"&&!Je(d.target)){const m=t(f)?.parentElement,u=m?.parentElement?.children,k=Array.prototype.indexOf.call(u,m);(!u||k===u.length-1||k===-1)&&z(d)}};let p=P(!1);De("keydown",Re,function(...d){(x()?h:void 0)?.apply(this,d)}),ot(b,{get to(){return t(c)},onmove:async()=>{await tt(),S(p,!0),t(f)?.focus()},children:(d,m)=>{var u=rt();let k,q;var D=o(u),R=o(D);R.__mousedown=I=>{const E=I.target;t(y)&&(t(y)===E||!t(y).contains(E)||s()&&!E.closest(s()))&&z(I)};var M=n(o(R),2),A=o(M);{var O=I=>{var E=re(),N=j(E);ve(N,()=>e.children,()=>z),i(I,E)};L(A,I=>{t(p)&&I(O)})}a(M),de(M,I=>S(y,I),()=>t(y)),a(R),a(D),a(u),de(u,I=>S(f,I),()=>t(f)),K(()=>{k=Ce(u,1,"dialog svelte-9uwxz7",null,k,{ready:t(p),layout_page:l()==="page"}),q=Ue(u,"",q,{"z-index":100+g()})}),i(d,u)},$$slots:{default:!0}}),X()}ce(["mousedown"]);var nt=T('<button type="button" class="icon_button plain ml_sm">•••</button>'),st=T('<li class="row svelte-bq45ds" role="none"><button type="button" role="menuitemradio"> </button> <!></li>'),it=T('<menu class="theme_input unstyled"></menu>');function lt(b,e){Q(e,!0);const l=B(e,"selected_theme",23,()=>Ge.get()),g=B(e,"themes",3,Ke),x=B(e,"enable_editing",3,!1),s=B(e,"select",3,_=>{l().theme=_});var v=it();Se(v,21,g,_=>_.name,(_,c)=>{const w=G(()=>t(c).name===l().theme.name);var f=st(),y=o(f);let z;y.__click=m=>{ae(m),s()?.(t(c))!==!1&&e.onselect?.(t(c))};var h=o(y,!0);a(y);var p=n(y,2);{var d=m=>{var u=nt();u.__click=k=>{ae(k),e.onedit?.(t(c))},i(m,u)};L(p,m=>{x()&&m(d)})}a(f),K(()=>{z=Ce(y,1,"theme_button color_a svelte-bq45ds",null,z,{selected:t(w)}),ie(y,"aria-label",`${t(c).name??""} theme`),ie(y,"aria-checked",t(w)),te(h,t(c).name)}),i(_,f)}),a(v),i(b,v),X()}ce(["click"]);const dt={name:"base",variables:[]},Ie=[dt,{name:"low contrast",variables:[{name:"tint_saturation",light:"8%"},{name:"bg",light:"hsl(var(--tint_hue) var(--tint_saturation) 86%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 18%)"}]},{name:"high contrast",variables:[{name:"bg",light:"#fff",dark:"#000"},{name:"text_color_2",light:"hsl(var(--tint_hue) var(--tint_saturation) 8%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 90%)"},{name:"text_color_3",light:"hsl(var(--tint_hue) var(--tint_saturation) 16%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 83%)"},{name:"text_color_5",light:"hsl(var(--tint_hue) var(--tint_saturation) 24%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 75%)"}]}];var vt=T("<div>✓</div>"),ct=T("<div>⧉</div>"),_t=T("<button><!></button>");function ut(b,e){Q(e,!0);const l=B(e,"copied_display_duration",3,1e3),g=B(e,"icon_button",3,!0),x=He(e,["$$slots","$$events","$$legacy","text","copied_display_duration","allow_copying_empty_string","icon_button","oncopy","disabled","children","class"]);let s=P(!1),v=P(!1),_;const c=async h=>{if(clearTimeout(_),e.text!==null){S(s,!1),S(v,!1);try{await navigator.clipboard.writeText(e.text),S(s,!0)}catch{S(v,!0);return}_=setTimeout(()=>{S(s,!1)},l()),e.oncopy?.(e.text,h)}};var w=_t();We(w,()=>({type:"button",title:"copy to clipboard",...x,class:`copy_to_clipboard ${e.class??""}`,onclick:c,disabled:e.disabled??(e.allow_copying_empty_string?e.text===null:!e.text),[je]:{icon_button:e.children?!1:g(),copied:t(s),failed:t(v),color_c:t(v)}}));var f=o(w);{var y=h=>{var p=re(),d=j(p);ve(d,()=>e.children,()=>t(s),()=>t(v)),i(h,p)},z=h=>{var p=re(),d=j(p);{var m=k=>{var q=vt();we(1,q,()=>Ze,()=>({duration:200})),i(k,q)},u=k=>{var q=ct();we(1,q,()=>$e),i(k,q)};L(d,k=>{t(s)?k(m):k(u,!1)},!0)}i(h,p)};L(f,h=>{e.children?h(y):h(z,!1)})}a(w),i(b,w),X()}const mt=(b,e={})=>{const{comments:l=!1,id:g=null,empty_default_theme:x=!0,specificity:s=2}=e,v=b.name===Ie[0].name?x?null:et:b.variables;if(!v?.length)return"";const _=v.map(f=>ke(f)).filter(Boolean),c=v.map(f=>ke(f,!0,l)).filter(Boolean),w=(g?"#"+g:":root").repeat(s);return`${_.length?`${w} {
	${_.join(`
	`)}
}`:""}
${c.length?`${w}.dark {
	${c.join(`
	`)}
}`:""}
`.trim()},ke=(b,e=!1,l=!0)=>{const g=e?b.dark:b.light;return g?"--"+b.name+": "+g+";"+(l&&b.summary?" /* "+b.summary+" */":""):""};var ht=T("<blockquote> </blockquote>"),ft=T('<div class="variable svelte-13002uq"><div class="usage svelte-13002uq"><div class="title svelte-13002uq">variable</div> <code class="svelte-13002uq"> </code></div> <!> <label><div class="title">light</div> <input disabled/></label> <label><div class="title">dark</div> <input disabled/></label></div>');function bt(b,e){Q(e,!0);var l=re(),g=j(l);{var x=s=>{var v=ft(),_=o(v),c=n(o(_),2),w=o(c);a(c),a(_);var f=n(_,2);{var y=m=>{var u=ht(),k=o(u,!0);a(u),K(()=>te(k,e.variable.summary)),i(m,u)};L(f,m=>{e.variable.summary&&m(y)})}var z=n(f,2),h=n(o(z),2);le(h),a(z);var p=n(z,2),d=n(o(p),2);le(d),a(p),a(v),K(()=>{te(w,`--${e.variable.name??""}`),be(h,e.variable.light??""),be(d,e.variable.dark??"")}),i(s,v)};L(g,s=>{e.variable&&s(x)})}i(b,l),X()}var pt=T('<button type="button" class="variable menu_item svelte-1xz78cl"> </button>'),gt=T('<div class="copy svelte-1xz78cl"><!></div> <!>',1),yt=T('<div class="pane p_md width_upto_md mx_auto"><div class="panel p_lg box"><!> <!> <button type="button">ok</button></div></div>'),xt=T(`<div class="theme_form svelte-1xz78cl"><h2 class="text_align_center"><!> theme</h2> <aside>Creating and editing themes at runtime is a work in progress, but you can click around to see
		where it's going!</aside> <header class="svelte-1xz78cl"><div class="variables_header svelte-1xz78cl"><p> </p> <button type="button" class="width_100" disabled>add a variable</button></div> <form class="svelte-1xz78cl"><label><div class="title">name</div> <input placeholder=">"/></label> <button type="button"><!></button></form></header> <div class="content svelte-1xz78cl"><div class="variables svelte-1xz78cl"></div> <div class="rendered svelte-1xz78cl"><!></div></div></div> <!>`,1);function wt(b,e){Q(e,!0);const l=B(e,"theme",3,null);let g=P(fe(l()?l().name:"new theme")),x=P(fe(l()?l().variables:[]));const s=G(()=>({name:t(g),variables:t(x)})),v=G(()=>mt(t(s),{empty_default_theme:!1,specificity:1})),_=G(()=>t(x).reduce((r,C)=>C.light?r+1:r,0)),c=G(()=>t(x).reduce((r,C)=>C.dark?r+1:r,0));let w=P(null);const f=()=>{t(p)&&e.onsave?.(t(s))},y=(r,C)=>{ae(r),S(w,C,!0),S(x,t(x).slice(),!0)},z=r=>{ae(r),alert("TODO")},h=G(()=>!!l()),p=G(()=>l()?t(g)!==l().name||t(x)!==l().variables:!0);var d=xt(),m=j(d),u=o(m),k=o(u);{var q=r=>{var C=Z("edit");i(r,C)},D=r=>{var C=Z("create");i(r,C)};L(k,r=>{t(h)?r(q):r(D,!1)})}W(),a(u);var R=n(u,4),M=o(R),A=o(M),O=o(A);a(A);var I=n(A,2);I.__click=z,a(M);var E=n(M,2),N=o(E),Y=n(o(N),2);le(Y),a(N);var F=n(N,2);F.__click=f;var ne=o(F);{var se=r=>{var C=Z("save changes");i(r,C)},H=r=>{var C=Z("create theme");i(r,C)};L(ne,r=>{t(h)?r(se):r(H,!1)})}a(F),a(E),a(R);var $=n(R,2),J=o($);Se(J,21,()=>t(x),r=>r.name,(r,C)=>{var U=pt();U.__click=V=>y(V,t(C));var ee=o(U);a(U),K(()=>te(ee,`--${t(C).name??""}`)),i(r,U)}),a(J);var _e=n(J,2),Me=o(_e);{var qe=r=>{var C=gt(),U=j(C),ee=o(U);ut(ee,{get text(){return t(v)}}),a(U);var V=n(U,2);Xe(V,{get content(){return t(v)},lang:"css"}),i(r,C)};L(Me,r=>{t(v)&&r(qe)})}a(_e),a($),a(m);var Pe=n(m,2);{var Ae=r=>{Ee(r,{onclose:()=>S(w,null),children:(U,ee=Ne)=>{var V=yt(),ue=o(V),me=o(ue);bt(me,{get variable(){return t(w)}});var he=n(me,2);ze(he,{});var Oe=n(he,2);Oe.__click=function(...Le){ee()?.apply(this,Le)},a(ue),a(V),i(U,V)},$$slots:{default:!0}})};L(Pe,r=>{t(w)&&r(Ae)})}K(()=>{te(O,`variables: ${t(_)??""} light, ${t(c)??""} dark`),F.disabled=!t(p)}),Qe(Y,()=>t(g),r=>S(g,r)),i(b,d),X()}ce(["click"]);var kt=T(`<!> <p>Moss supports <!> with dark and light modes. To apply dark mode manually,
			add the <code>dark</code> class to the root <code>html</code> element.</p> <p>The Fuz integration detects the default with <!>, and users can also set it directly
			with a component like <a href="https://github.com/ryanatkn/fuz/blob/main/src/lib/ColorSchemeInput.svelte">this one</a>:</p> <div class="display_flex mb_lg"><!></div> <p>The builtin themes support both dark and light color schemes. Custom themes may support one or
			both color schemes.</p>`,1),Tt=T("<code>@ryanatkn/moss/theme.ts</code>"),Ct=T("<code>@ryanatkn/moss/themes.ts</code>"),St=T(`<!> <p>A theme is a simple JSON collection of <!> that can be transformed into
			CSS that set custom properties. Each variable can have values for light and/or dark color schemes.
			In other words, "dark" isn't a theme, it's a mode that any theme can implement.</p> <p>These docs are a work in progress, for now see <!> and <!>.</p> <div class="width_upto_xs mb_lg"><!></div> <!>`,1),zt=T(`<section><p>Moss supports both the browser's <!> and custom themes based on <!>, which use <!>.</p> <p>Moss works with any JS framework, but it provides only stylesheets, not integrations. This
			website uses my Svelte UI library <a href="https://www.fuz.dev/">Fuz</a> to provide the UI below to control the Moss color scheme and themes.</p></section> <!> <!>`,1),Et=T('<div class="pane p_md width_upto_md mx_auto"><div class="theme_editor_wrapper svelte-30iokt"><!></div></div>'),It=T("<!>  <!>",1);function Kt(b,e){Q(e,!0);const g=Ve("themes"),x=Ie.slice();let s=P(null);var v=It(),_=j(v);Fe(_,{get tome(){return g},children:(f,y)=>{var z=zt(),h=j(z),p=o(h),d=n(o(p));oe(d,{path:"Web/CSS/color-scheme"});var m=n(d,2);pe(m,{name:"variables"});var u=n(m,2);oe(u,{path:"Web/CSS/--*",children:(D,R)=>{W();var M=Z("CSS custom properties");i(D,M)},$$slots:{default:!0}}),W(),a(p),W(2),a(h);var k=n(h,2);ge(k,{children:(D,R)=>{var M=kt(),A=j(M);ye(A,{text:"Color scheme"});var O=n(A,2),I=n(o(O));oe(I,{path:"Web/CSS/color-scheme"}),W(5),a(O);var E=n(O,2),N=n(o(E));oe(N,{path:"Web/CSS/@media/prefers-color-scheme"}),W(3),a(E);var Y=n(E,2),F=o(Y);Ye(F,{}),a(Y),W(2),i(D,M)},$$slots:{default:!0}});var q=n(k,2);ge(q,{children:(D,R)=>{var M=St(),A=j(M);ye(A,{text:"Builtin themes"});var O=n(A,2),I=n(o(O));pe(I,{name:"variables"}),W(),a(O);var E=n(O,2),N=n(o(E));xe(N,{path:"theme.ts",children:(H,$)=>{var J=Tt();i(H,J)},$$slots:{default:!0}});var Y=n(N,2);xe(Y,{path:"themes.ts",children:(H,$)=>{var J=Ct();i(H,J)},$$slots:{default:!0}}),W(),a(E);var F=n(E,2),ne=o(F);lt(ne,{get themes(){return x},enable_editing:!0,onedit:H=>S(s,H,!0)}),a(F);var se=n(F,2);ze(se,{children:(H,$)=>{W();var J=Z("The builtin themes need more work, but the proof of concept is ready!");i(H,J)}}),i(D,M)},$$slots:{default:!0}}),i(f,z)},$$slots:{default:!0}});var c=n(_,2);{var w=f=>{Ee(f,{onclose:()=>S(s,null),children:(y,z)=>{var h=Et(),p=o(h),d=o(p);wt(d,{get theme(){return t(s)},onsave:m=>{console.log("update theme",m),alert("todo")}}),a(p),a(h),i(y,h)},$$slots:{default:!0}})};L(c,f=>{t(s)&&f(w)})}i(b,v),X()}export{Ee as D,bt as S,Kt as _};
