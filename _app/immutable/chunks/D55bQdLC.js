import"./DsnmJJEf.js";import{z as G,B as J,A as K,aW as M,aX as N,f as T,a as g,d as k,r as y,s as I,t as w,b as _,o as D,I as A,y as q,p as z,u,v as x,a2 as Q,c as C,x as S}from"./qjZzyAwZ.js";import{i as j}from"./5CeDbN-a.js";import{p as V}from"./u7mZkTFH.js";import{s as E}from"./QeaNnfvq.js";import{p as F}from"./CzVwROTK.js";import{r as Z}from"./rglFelVp.js";import{o as $,s as ee}from"./Cv3JeNKD.js";import{e as te}from"./CfBvf5n5.js";import{s as H,a as ae}from"./az5tBvNU.js";import{a as O,d as P,b as se,D as ne}from"./CmyFtO-I.js";function B(d,a,s){G(()=>{var e=J(()=>a(d,s?.())||{});if(s&&e?.update){var r=!1,c={};K(()=>{var i=s();M(i),r&&N(c,i)&&(c=i,e.update(i))}),r=!0}if(e?.destroy)return()=>e.destroy()})}var oe=T('<a class="hashlink svelte-63dm5j" aria-label="hashlink"><!></a> <span class="hashlink_scroll_target svelte-63dm5j" aria-hidden="true"></span>',1);function re(d,a){var s=oe(),e=g(s),r=k(e);{var c=n=>{var f=D(),m=g(f);A(m,()=>a.children),_(n,f)},i=n=>{var f=q("#");_(n,f)};j(r,n=>{a.children?n(c):n(i,!1)})}y(e);var l=I(e,2);w(()=>{H(e,"href",`#${a.slug??""}`),H(l,"id",a.slug)}),_(d,s)}const L=(d,a=Q)=>{S();var s=q();w(()=>ee(s,a())),_(d,s)};let ie=0;var ce=T("<a><!></a>"),le=T("<!> <!>",1);function de(d,a){z(a,!0);const s=O.get(),e="tome_header_"+ie++,r=P.get(),c=E(s.name);r.add(e,s.name,c),$(()=>{r.remove(e)});const i=x(()=>se(c,F.url.pathname)),l=x(()=>u(i).path),n=x(()=>u(i).path_is_selected);var f=D(),m=g(f);te(m,()=>u(n)?"h1":"h2",!1,(h,o)=>{ae(h,()=>({...a.attrs,class:"tome_header"}),void 0,void 0,"svelte-d05s6w");var t=le(),p=g(t);{var U=v=>{L(v,()=>s.name)},W=v=>{var b=ce(),Y=k(b);L(Y,()=>s.name),y(b),w(()=>H(b,"href",u(l))),_(v,b)};j(p,v=>{u(n)?v(U):v(W,!1)})}var X=I(p,2);re(X,{get slug(){return c}}),_(o,t)}),_(d,f),C()}const R=(d,a)=>{let s,e,r,c,i,l,n,f;const m=t=>{f=t,l=0,typeof t=="function"?(s=t,e=void 0,r=void 0,c=void 0):t&&(s=t.onintersect,e=t.ondisconnect,r=t.count,c=t.options),h()},h=()=>{n&&o(),!(f===null||r===0)&&(n=new IntersectionObserver(t=>{i=t[0].isIntersecting,s&&n&&s({intersecting:i,intersections:l,el:d,observer:n,disconnect:o}),i?l++:r&&r>0&&l>=r&&o()},c),n.observe(d))},o=()=>{n&&(n.disconnect(),e&&e({intersecting:i,intersections:l,el:d,observer:n}),n=null)};return m(a),{update:t=>{m(t)},destroy:o}};var fe=T('<section class="tome_content width_md mb_xl9"><header class="mb_xl3 position_sticky top_0"><!></header> <!></section>');function Te(d,a){z(a,!0);const s=V(a,"docs_path",3,ne),e=P.get();O.set(a.tome);const r=E(a.tome.name),c=x(()=>F.url.pathname===Z(s()));var i=fe(),l=k(i),n=k(l);{var f=o=>{var t=D(),p=g(t);A(p,()=>a.header),_(o,t)},m=o=>{de(o,{})};j(n,o=>{a.header?o(f):o(m,!1)})}y(l),B(l,(o,t)=>R?.(o,t),()=>u(c)?null:({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)});var h=I(l,2);A(h,()=>a.children),y(i),B(i,(o,t)=>R?.(o,t),()=>u(c)?({intersecting:o})=>{o?e.slugs_onscreen.add(r):e.slugs_onscreen.delete(r)}:null),_(d,i),C()}export{re as H,Te as T,B as a,R as i};
