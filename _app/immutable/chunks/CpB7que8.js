import"./DsnmJJEf.js";import{p as G,av as xe,u as t,aJ as z,a7 as S,f as x,d as r,I as de,r as o,t as V,b as v,c as K,bp as Le,bq as Oe,s as n,o as ne,a as U,aI as ve,v as Y,a6 as me,x as N,y as X,a2 as qe}from"./qjZzyAwZ.js";import{i as q}from"./5CeDbN-a.js";import{T as De}from"./D55bQdLC.js";import{f as Te,i as Re,e as Ce,s as he,a as Be,C as Ne,r as ie,l as fe}from"./az5tBvNU.js";import{b as le}from"./Cxh_V6o5.js";import{p as D}from"./u7mZkTFH.js";import{s as ae,a as Ue,C as We}from"./DuiV288g.js";import{o as Fe,s as te}from"./Cv3JeNKD.js";import{g as Je}from"./CmyFtO-I.js";import{T as be}from"./BYgvOxAj.js";import{T as pe,a as ge}from"./DdXbPQnC.js";import{t as He,e as Ye}from"./DFbb3tC8.js";import{M as re}from"./CYVr8q-J.js";import{M as ye}from"./3jf5W3TH.js";import{b as Ve}from"./DbYgYDqT.js";import{C as Ge}from"./C8IJsVyg.js";import{t as ke,a as Ke,s as Qe}from"./DGQX2Hrk.js";import{d as Xe}from"./DRTJTA2u.js";import{U as Se}from"./Bz6mEqmp.js";const Ze=(s=0)=>new Promise(e=>setTimeout(e,s));var $e=x('<div class="teleport svelte-gjkzv5"><!></div>');function et(s,e){G(e,!0);let a=z(void 0);xe(()=>{t(a)&&e.to&&c(t(a),e.to)});let _=z(!1);const c=(f,l)=>{S(_,!0),l.appendChild(f),e.onmove?.(f,l)};Fe(()=>{t(a)?.parentNode?.removeChild(t(a))});var u=$e(),b=r(u);de(b,()=>e.children),o(u),le(u,f=>S(a,f),()=>t(a)),V(()=>u.hidden=!t(_)),v(s,u),K()}var tt=(s,e,a,_)=>{const c=s.target;t(e)&&(t(e)===c||!t(e).contains(c)||a()&&!c.closest(a()))&&_(s)},at=x('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-4ojjtv"><div class="dialog_wrapper svelte-4ojjtv" role="none"><div class="dialog_bg svelte-4ojjtv" aria-hidden="true"></div> <div class="dialog_content svelte-4ojjtv"><!></div></div></div></div>');function Ee(s,e){G(e,!0);const a=D(e,"layout",3,"centered"),_=D(e,"index",3,0),c=D(e,"active",3,!0),u=D(e,"content_selector",3,".pane"),b="body",f="fuz_dialog";let l=z(void 0);xe(()=>{C(e.container)});const C=m=>{if(m)S(l,m,!0);else{const p=document.getElementById(f);if(p)S(l,p,!0);else{const d=document.querySelector(b);if(!d)throw Error(`Cannot find dialog root element with selector '${b}'`);S(l,document.createElement("div"),!0),t(l).id=f,t(l).style.display="contents",d.appendChild(t(l))}}};let g=z(void 0),w=z(void 0);const h=m=>{m&&ae(m),e.onclose?.()},y=m=>{if(m.key==="Escape"&&!Ue(m.target)){const p=t(g)?.parentElement,d=p?.parentElement?.children,E=Array.prototype.indexOf.call(d,p);(!d||E===d.length-1||E===-1)&&h(m)}};let k=z(!1);Le("keydown",Oe,function(...m){(c()?y:void 0)?.apply(this,m)}),et(s,{get to(){return t(l)},onmove:async()=>{await Ze(),S(k,!0),t(g)?.focus()},children:(m,p)=>{var d=at();let E,F;var P=r(d),R=r(P);R.__mousedown=[tt,w,u,h];var M=n(r(R),2),W=r(M);{var A=I=>{var j=ne(),L=U(j);de(L,()=>e.children,()=>h),v(I,j)};q(W,I=>{t(k)&&I(A)})}o(M),le(M,I=>S(w,I),()=>t(w)),o(R),o(P),o(d),le(d,I=>S(g,I),()=>t(g)),V((I,j)=>{E=Te(d,1,"dialog svelte-4ojjtv",null,E,I),F=Re(d,"",F,j)},[()=>({ready:t(k),layout_page:a()==="page"}),()=>({"z-index":100+_()})]),v(m,d)},$$slots:{default:!0}}),K()}ve(["mousedown"]);var ot=(s,e,a,_)=>{ae(s),e()?.(t(a))!==!1&&_.onselect?.(t(a))},rt=(s,e,a)=>{ae(s),e.onedit?.(t(a))},nt=x('<button type="button" class="icon_button plain ml_sm">•••</button>'),st=x('<li class="row svelte-qe309a" role="none"><button type="button" role="menuitemradio"> </button> <!></li>'),it=x('<menu class="theme_input unstyled"></menu>');function lt(s,e){G(e,!0);const a=D(e,"selected_theme",23,()=>He.get()),_=D(e,"themes",3,Ye),c=D(e,"enable_editing",3,!1),u=D(e,"select",3,f=>{a().theme=f});var b=it();Ce(b,21,_,f=>f.name,(f,l)=>{var C=st();const g=Y(()=>t(l).name===a().theme.name);var w=r(C);let h;w.__click=[ot,u,l,e];var y=r(w,!0);o(w);var k=n(w,2);{var m=p=>{var d=nt();d.__click=[rt,e,l],v(p,d)};q(k,p=>{c()&&p(m)})}o(C),V(p=>{h=Te(w,1,"theme_button color_a svelte-qe309a",null,h,p),he(w,"aria-label",`${t(l).name??""} theme`),he(w,"aria-checked",t(g)),te(y,t(l).name)},[()=>({selected:t(g)})]),v(f,C)}),o(b),v(s,b),K()}ve(["click"]);const dt={name:"base",variables:[]},Ie=[dt,{name:"low contrast",variables:[{name:"tint_saturation",light:"8%"},{name:"bg",light:"hsl(var(--tint_hue) var(--tint_saturation) 86%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 18%)"}]},{name:"high contrast",variables:[{name:"bg",light:"#fff",dark:"#000"},{name:"text_color_2",light:"hsl(var(--tint_hue) var(--tint_saturation) 8%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 90%)"},{name:"text_color_3",light:"hsl(var(--tint_hue) var(--tint_saturation) 16%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 83%)"},{name:"text_color_5",light:"hsl(var(--tint_hue) var(--tint_saturation) 24%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 75%)"}]}];var vt=x("<div>✓</div>"),ct=x("<div>⧉</div>"),_t=x("<button><!></button>");function ut(s,e){G(e,!0);const a=D(e,"copied_display_duration",3,1e3),_=D(e,"icon_button",3,!0);let c=z(!1),u=z(!1),b;const f=async h=>{if(clearTimeout(b),e.text!==null){S(c,!1),S(u,!1);try{await navigator.clipboard.writeText(e.text),S(c,!0)}catch{S(u,!0);return}b=setTimeout(()=>{S(c,!1)},a()),e.oncopy?.(e.text,h)}};var l=_t();Be(l,h=>({type:"button",title:"copy to clipboard",...e.attrs,class:e.attrs?.class,onclick:f,disabled:e.attrs?.disabled??(e.allow_copying_empty_string?e.text===null:!e.text),[Ne]:h}),[()=>({icon_button:e.children?!1:_(),copied:t(c),failed:t(u),color_c:t(u)})]);var C=r(l);{var g=h=>{var y=ne(),k=U(y);de(k,()=>e.children,()=>t(c),()=>t(u)),v(h,y)},w=h=>{var y=ne(),k=U(y);{var m=d=>{var E=vt();ke(1,E,()=>Ke,()=>({duration:200})),v(d,E)},p=d=>{var E=ct();ke(1,E,()=>Qe),v(d,E)};q(k,d=>{t(c)?d(m):d(p,!1)},!0)}v(h,y)};q(C,h=>{e.children?h(g):h(w,!1)})}o(l),v(s,l),K()}const mt=(s,e={})=>{const{comments:a=!1,id:_=null,empty_default_theme:c=!0,specificity:u=2}=e,b=s.name===Ie[0].name?c?null:Xe:s.variables;if(!b?.length)return"";const f=b.map(g=>we(g)).filter(Boolean),l=b.map(g=>we(g,!0,a)).filter(Boolean),C=(_?"#"+_:":root").repeat(u);return`${f.length?`${C} {
	${f.join(`
	`)}
}`:""}
${l.length?`${C}.dark {
	${l.join(`
	`)}
}`:""}
`.trim()},we=(s,e=!1,a=!0)=>{const _=e?s.dark:s.light;return _?"--"+s.name+": "+_+";"+(a&&s.summary?" /* "+s.summary+" */":""):""};var ht=x("<blockquote> </blockquote>"),ft=x('<div class="variable svelte-15lb2r2"><div class="usage svelte-15lb2r2"><div class="title svelte-15lb2r2">variable</div> <code class="svelte-15lb2r2"> </code></div> <!> <label><div class="title">light</div> <input disabled/></label> <label><div class="title">dark</div> <input disabled/></label></div>');function bt(s,e){G(e,!0);var a=ne(),_=U(a);{var c=u=>{var b=ft(),f=r(b),l=n(r(f),2),C=r(l);o(l),o(f);var g=n(f,2);{var w=p=>{var d=ht(),E=r(d,!0);o(d),V(()=>te(E,e.variable.summary)),v(p,d)};q(g,p=>{e.variable.summary&&p(w)})}var h=n(g,2),y=n(r(h),2);ie(y),o(h);var k=n(h,2),m=n(r(k),2);ie(m),o(k),o(b),V(()=>{te(C,`--${e.variable.name??""}`),fe(y,e.variable.light??""),fe(m,e.variable.dark??"")}),v(u,b)};q(_,u=>{e.variable&&u(c)})}v(s,a),K()}const pt=(s,e,a,_)=>{t(e)&&a.onsave?.(t(_))},gt=s=>{ae(s),alert("TODO")};var yt=(s,e,a)=>e(s,t(a)),kt=x('<button type="button" class="variable menu_item svelte-cno0i6"> </button>'),wt=x('<div class="copy svelte-cno0i6"><!></div> <!>',1),xt=x('<div class="pane p_md width_md mx_auto"><div class="panel p_lg box"><!> <!> <button type="button">ok</button></div></div>'),Tt=x(`<div class="theme_form svelte-cno0i6"><h2 class="text_align_center"><!> theme</h2> <aside>Creating and editing themes at runtime is a work in progress, but you can click around to see
		where it's going!</aside> <header class="svelte-cno0i6"><div class="variables_header svelte-cno0i6"><p> </p> <button type="button" class="w_100" disabled>add a variable</button></div> <form class="svelte-cno0i6"><label><div class="title">name</div> <input placeholder=">"/></label> <button type="button"><!></button></form></header> <div class="content svelte-cno0i6"><div class="variables svelte-cno0i6"></div> <div class="rendered svelte-cno0i6"><!></div></div></div> <!>`,1);function Ct(s,e){G(e,!0);const a=D(e,"theme",3,null);let _=z(me(a()?a().name:"new theme")),c=z(me(a()?a().variables:[]));const u=Y(()=>({name:t(_),variables:t(c)})),b=Y(()=>mt(t(u),{empty_default_theme:!1,specificity:1})),f=Y(()=>t(c).reduce((i,T)=>T.light?i+1:i,0)),l=Y(()=>t(c).reduce((i,T)=>T.dark?i+1:i,0));let C=z(null);const g=(i,T)=>{ae(i),S(C,T,!0),S(c,t(c).slice(),!0)},w=Y(()=>!!a()),h=Y(()=>a()?t(_)!==a().name||t(c)!==a().variables:!0);var y=Tt(),k=U(y),m=r(k),p=r(m);{var d=i=>{var T=X("edit");v(i,T)},E=i=>{var T=X("create");v(i,T)};q(p,i=>{t(w)?i(d):i(E,!1)})}N(),o(m);var F=n(m,4),P=r(F),R=r(P),M=r(R);o(R);var W=n(R,2);W.__click=[gt],o(P);var A=n(P,2),I=r(A),j=n(r(I),2);ie(j),o(I);var L=n(I,2);L.__click=[pt,h,e,u];var Q=r(L);{var J=i=>{var T=X("save changes");v(i,T)},se=i=>{var T=X("create theme");v(i,T)};q(Q,i=>{t(w)?i(J):i(se,!1)})}o(L),o(A),o(F);var oe=n(F,2),O=r(oe);Ce(O,21,()=>t(c),i=>i.name,(i,T)=>{var B=kt();B.__click=[yt,g,T];var $=r(B);o(B),V(()=>te($,`--${t(T).name??""}`)),v(i,B)}),o(O);var Z=n(O,2),H=r(Z);{var je=i=>{var T=wt(),B=U(T),$=r(B);ut($,{get text(){return t(b)}}),o(B);var ee=n(B,2);Ge(ee,{get content(){return t(b)},lang:"css"}),v(i,T)};q(H,i=>{t(b)&&i(je)})}o(Z),o(oe),o(k);var Me=n(k,2);{var Pe=i=>{Ee(i,{onclose:()=>S(C,null),children:(B,$=qe)=>{var ee=xt(),ce=r(ee),_e=r(ce);bt(_e,{get variable(){return t(C)}});var ue=n(_e,2);Se(ue,{});var Ae=n(ue,2);Ae.__click=function(...ze){$()?.apply(this,ze)},o(ce),o(ee),v(B,ee)},$$slots:{default:!0}})};q(Me,i=>{t(C)&&i(Pe)})}V(()=>{te(M,`variables: ${t(f)??""} light, ${t(l)??""} dark`),L.disabled=!t(h)}),Ve(j,()=>t(_),i=>S(_,i)),v(s,y),K()}ve(["click"]);var St=x(`<!> <p>Moss supports <!> with dark and light modes. To apply dark mode manually,
			add the <code>dark</code> class to the root <code>html</code> element.</p> <p>The Fuz integration detects the default with <!>, and users can also set it directly
			with a component like <a href="https://github.com/ryanatkn/fuz/blob/main/src/lib/Color_Scheme_Input.svelte">this one</a>:</p> <div class="display_flex mb_lg"><!></div> <p>The builtin themes support both dark and light color schemes. Custom themes may support one or
			both color schemes.</p>`,1),Et=x("<code>@ryanatkn/moss/theme.ts</code>"),It=x("<code>@ryanatkn/moss/themes.ts</code>"),jt=x(`<!> <p>A theme is a simple JSON collection of <!> that can be transformed into
			CSS that set custom properties. Each variable can have values for light and/or dark color schemes.
			In other words, "dark" isn't a theme, it's a mode that any theme can implement.</p> <p>These docs are a work in progress, for now see <!> and <!>.</p> <div class="width_xs mb_lg"><!></div> <!>`,1),Mt=x(`<section><p>Moss supports both the browser's <!> and custom themes based on <!>, which use <!>.</p> <p>Moss works with any JS framework, but it provides only stylesheets, not integrations. This
			website uses my Svelte UI library <a href="https://www.fuz.dev/">Fuz</a> to provide the UI below to control the Moss color scheme and themes.</p></section> <!> <!>`,1),Pt=x('<div class="pane p_md width_md mx_auto"><div class="theme_editor_wrapper svelte-k5tzmk"><!></div></div>'),At=x("<!>  <!>",1);function $t(s,e){G(e,!0);const _=Je("themes"),c=Ie.slice();let u=z(null);var b=At(),f=U(b);De(f,{get tome(){return _},children:(g,w)=>{var h=Mt(),y=U(h),k=r(y),m=n(r(k));re(m,{path:"Web/CSS/color-scheme"});var p=n(m,2);be(p,{name:"variables"});var d=n(p,2);re(d,{path:"Web/CSS/--*",children:(P,R)=>{N();var M=X("CSS custom properties");v(P,M)},$$slots:{default:!0}}),N(),o(k),N(2),o(y);var E=n(y,2);pe(E,{children:(P,R)=>{var M=St(),W=U(M);ge(W,{text:"Color scheme"});var A=n(W,2),I=n(r(A));re(I,{path:"Web/CSS/color-scheme"}),N(5),o(A);var j=n(A,2),L=n(r(j));re(L,{path:"Web/CSS/@media/prefers-color-scheme"}),N(3),o(j);var Q=n(j,2),J=r(Q);We(J,{}),o(Q),N(2),v(P,M)},$$slots:{default:!0}});var F=n(E,2);pe(F,{children:(P,R)=>{var M=jt(),W=U(M);ge(W,{text:"Builtin themes"});var A=n(W,2),I=n(r(A));be(I,{name:"variables"}),N(),o(A);var j=n(A,2),L=n(r(j));ye(L,{path:"theme.ts",children:(O,Z)=>{var H=Et();v(O,H)},$$slots:{default:!0}});var Q=n(L,2);ye(Q,{path:"themes.ts",children:(O,Z)=>{var H=It();v(O,H)},$$slots:{default:!0}}),N(),o(j);var J=n(j,2),se=r(J);lt(se,{get themes(){return c},enable_editing:!0,onedit:O=>S(u,O,!0)}),o(J);var oe=n(J,2);Se(oe,{children:(O,Z)=>{N();var H=X("The builtin themes need more work, but the proof of concept is ready!");v(O,H)}}),v(P,M)},$$slots:{default:!0}}),v(g,h)},$$slots:{default:!0}});var l=n(f,2);{var C=g=>{Ee(g,{onclose:()=>S(u,null),children:(w,h)=>{var y=Pt(),k=r(y),m=r(k);Ct(m,{get theme(){return t(u)},onsave:p=>{console.log("update theme",p),alert("todo")}}),o(k),o(y),v(w,y)},$$slots:{default:!0}})};q(l,g=>{t(u)&&g(C)})}v(s,b),K()}export{Ee as D,bt as S,$t as _};
