import{t as x,a as f,z as Oe,c as le,m as de,b as K}from"./NVWS3V4U.js";import{p as V,X as Te,j as t,aa as L,a3 as E,c as n,r as o,t as Y,a as X,aQ as De,s as i,f as F,u as Q,a2 as he,n as U,Y as Re}from"./xlH9aj8z.js";import{i as R}from"./C6FgbUOg.js";import{T as qe}from"./CXBvezSF.js";import{b as ve,d as Ce,f as Be,e as Se,a as fe,s as Ne,C as Ue,r as ie,h as be}from"./Cpuy4IUX.js";import{b as se}from"./yuujPhsY.js";import{p as q}from"./CbDHXh45.js";import{s as ae,a as We,C as Fe}from"./DP5MUWXf.js";import{o as Ye}from"./BgMTMSKT.js";import{g as He}from"./DixYjCJE.js";import{T as ge}from"./TmVHbwVA.js";import{T as ye,a as ke}from"./Cic_LfYV.js";import{s as te}from"./iZ3s1Mxj.js";import{t as Je,e as Qe}from"./Bg4QiIsH.js";import{M as re}from"./g0yro4gb.js";import{M as pe}from"./mjOz9MOQ.js";import{b as Ve}from"./B5ki1K2Y.js";import{C as Xe}from"./Be10N2ws.js";import{t as we,a as Ge,s as Ke}from"./GqYKjRCw.js";import{d as Ze}from"./DRTJTA2u.js";import{U as Ee}from"./Drn4c8mW.js";const $e=(s=0)=>new Promise(e=>setTimeout(e,s));var et=x('<div class="teleport svelte-gjkzv5"><!></div>');function tt(s,e){V(e,!0);let a=L(void 0);Te(()=>{t(a)&&e.to&&l(t(a),e.to)});let v=L(!1);const l=(u,c)=>{var p;E(v,!0),c.appendChild(u),(p=e.onmove)==null||p.call(e,u,c)};Ye(()=>{var u,c;(c=(u=t(a))==null?void 0:u.parentNode)==null||c.removeChild(t(a))});var _=et(),g=n(_);ve(g,()=>e.children),o(_),se(_,u=>E(a,u),()=>t(a)),Y(()=>_.hidden=!t(v)),f(s,_),X()}var at=(s,e,a,v)=>{const l=s.target;t(e)&&(t(e)===l||!t(e).contains(l)||a()&&!l.closest(a()))&&v(s)},ot=x('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-4ojjtv"><div class="dialog_wrapper svelte-4ojjtv" role="none"><div class="dialog_bg svelte-4ojjtv" aria-hidden="true"></div> <div class="dialog_content svelte-4ojjtv"><!></div></div></div></div>');function je(s,e){V(e,!0);const a=q(e,"layout",3,"centered"),v=q(e,"index",3,0),l=q(e,"active",3,!0),_=q(e,"content_selector",3,".pane"),g="body",u="fuz_dialog";let c=L(void 0);Te(()=>{p(e.container)});const p=r=>{if(r)E(c,r,!0);else{const m=document.getElementById(u);if(m)E(c,m,!0);else{const h=document.querySelector(g);if(!h)throw Error(`Cannot find dialog root element with selector '${g}'`);E(c,document.createElement("div"),!0),t(c).id=u,t(c).style.display="contents",h.appendChild(t(c))}}};let k=L(void 0),w=L(void 0);const S=r=>{var m;r&&ae(r),(m=e.onclose)==null||m.call(e)},y=r=>{var m,h;if(r.key==="Escape"&&!We(r.target)){const T=(m=t(k))==null?void 0:m.parentElement,z=(h=T==null?void 0:T.parentElement)==null?void 0:h.children,I=Array.prototype.indexOf.call(z,T);(!z||I===z.length-1||I===-1)&&S(r)}};let b=L(!1);Oe("keydown",De,function(...r){var m;(m=l()?y:void 0)==null||m.apply(this,r)}),tt(s,{get to(){return t(c)},onmove:async()=>{var r;await $e(),E(b,!0),(r=t(k))==null||r.focus()},children:(r,m)=>{var h=ot();let T,z;var I=n(h),B=n(I);B.__mousedown=[at,w,_,S];var M=i(n(B),2),W=n(M);{var A=j=>{var P=le(),O=F(P);ve(O,()=>e.children,()=>S),f(j,P)};R(W,j=>{t(b)&&j(A)})}o(M),se(M,j=>E(w,j),()=>t(w)),o(B),o(I),o(h),se(h,j=>E(k,j),()=>t(k)),Y(j=>{T=Ce(h,1,"dialog svelte-4ojjtv",null,T,j),z=Be(h,"",z,{"z-index":100+v()})},[()=>({ready:t(b),layout_page:a()==="page"})]),f(r,h)},$$slots:{default:!0}}),X()}de(["mousedown"]);var rt=(s,e,a,v)=>{var l,_;ae(s),((l=e())==null?void 0:l(t(a)))!==!1&&((_=v.onselect)==null||_.call(v,t(a)))},nt=(s,e,a)=>{var v;ae(s),(v=e.onedit)==null||v.call(e,t(a))},it=x('<button type="button" class="icon_button plain ml_sm">•••</button>'),st=x('<li class="row svelte-qe309a" role="none"><button type="button" role="menuitemradio"> </button> <!></li>'),lt=x('<menu class="theme_input unstyled"></menu>');function dt(s,e){V(e,!0);const a=q(e,"selected_theme",23,()=>Je.get()),v=q(e,"themes",3,Qe),l=q(e,"enable_editing",3,!1),_=q(e,"select",3,u=>{a().theme=u});var g=lt();Se(g,21,v,u=>u.name,(u,c)=>{var p=st();const k=Q(()=>t(c).name===a().theme.name);var w=n(p);let S;w.__click=[rt,_,c,e];var y=n(w,!0);o(w);var b=i(w,2);{var r=m=>{var h=it();h.__click=[nt,e,c],f(m,h)};R(b,m=>{l()&&m(r)})}o(p),Y(m=>{S=Ce(w,1,"theme_button color_a svelte-qe309a",null,S,m),fe(w,"aria-label",`${t(c).name??""} theme`),fe(w,"aria-checked",t(k)),te(y,t(c).name)},[()=>({selected:t(k)})]),f(u,p)}),o(g),f(s,g),X()}de(["click"]);const vt={name:"base",variables:[]},Ie=[vt,{name:"low contrast",variables:[{name:"tint_saturation",light:"8%"},{name:"bg",light:"hsl(var(--tint_hue) var(--tint_saturation) 86%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 18%)"}]},{name:"high contrast",variables:[{name:"bg",light:"#fff",dark:"#000"},{name:"text_color_2",light:"hsl(var(--tint_hue) var(--tint_saturation) 8%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 90%)"},{name:"text_color_3",light:"hsl(var(--tint_hue) var(--tint_saturation) 16%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 83%)"},{name:"text_color_5",light:"hsl(var(--tint_hue) var(--tint_saturation) 24%)",dark:"hsl(var(--tint_hue) var(--tint_saturation) 75%)"}]}];var ct=x("<div>✓</div>"),_t=x("<div>⧉</div>"),mt=x("<button><!></button>");function ut(s,e){V(e,!0);const a=q(e,"copied_display_duration",3,1e3),v=q(e,"icon_button",3,!0);let l=L(!1),_=L(!1),g;const u=async y=>{var b;if(clearTimeout(g),e.text!==null){E(l,!1),E(_,!1);try{await navigator.clipboard.writeText(e.text),E(l,!0)}catch{E(_,!0);return}g=setTimeout(()=>{E(l,!1)},a()),(b=e.oncopy)==null||b.call(e,e.text,y)}};var c=mt();let p;var k=n(c);{var w=y=>{var b=le(),r=F(b);ve(r,()=>e.children,()=>t(l),()=>t(_)),f(y,b)},S=(y,b)=>{{var r=h=>{var T=ct();we(1,T,()=>Ge,()=>({duration:200})),f(h,T)},m=h=>{var T=_t();we(1,T,()=>Ke),f(h,T)};R(y,h=>{t(l)?h(r):h(m,!1)},b)}};R(k,y=>{e.children?y(w):y(S,!1)})}o(c),Y(y=>{var b,r;return p=Ne(c,p,{type:"button",title:"copy to clipboard",...e.attrs,class:(b=e.attrs)==null?void 0:b.class,onclick:u,disabled:((r=e.attrs)==null?void 0:r.disabled)??(e.allow_copying_empty_string?e.text===null:!e.text),[Ue]:y})},[()=>({icon_button:e.children?!1:v(),copied:t(l),failed:t(_),color_c:t(_)})]),f(s,c),X()}const ht=(s,e={})=>{const{comments:a=!1,id:v=null,empty_default_theme:l=!0,specificity:_=2}=e,g=s.name===Ie[0].name?l?null:Ze:s.variables;if(!(g!=null&&g.length))return"";const u=g.map(k=>xe(k)).filter(Boolean),c=g.map(k=>xe(k,!0,a)).filter(Boolean),p=(v?"#"+v:":root").repeat(_);return`${u.length?`${p} {
	${u.join(`
	`)}
}`:""}
${c.length?`${p}.dark {
	${c.join(`
	`)}
}`:""}
`.trim()},xe=(s,e=!1,a=!0)=>{const v=e?s.dark:s.light;return v?"--"+s.name+": "+v+";"+(a&&s.summary?" /* "+s.summary+" */":""):""};var ft=x("<blockquote> </blockquote>"),bt=x('<div class="variable svelte-15lb2r2"><div class="usage svelte-15lb2r2"><div class="title svelte-15lb2r2">variable</div> <code class="svelte-15lb2r2"> </code></div> <!> <label><div class="title">light</div> <input disabled></label> <label><div class="title">dark</div> <input disabled></label></div>');function gt(s,e){V(e,!0);var a=le(),v=F(a);{var l=_=>{var g=bt(),u=n(g),c=i(n(u),2),p=n(c);o(c),o(u);var k=i(u,2);{var w=m=>{var h=ft(),T=n(h,!0);o(h),Y(()=>te(T,e.variable.summary)),f(m,h)};R(k,m=>{e.variable.summary&&m(w)})}var S=i(k,2),y=i(n(S),2);ie(y),o(S);var b=i(S,2),r=i(n(b),2);ie(r),o(b),o(g),Y(()=>{te(p,`--${e.variable.name??""}`),be(y,e.variable.light??""),be(r,e.variable.dark??"")}),f(_,g)};R(v,_=>{e.variable&&_(l)})}f(s,a),X()}const yt=(s,e,a,v)=>{var l;t(e)&&((l=a.onsave)==null||l.call(a,t(v)))},kt=s=>{ae(s),alert("TODO")};var pt=(s,e,a)=>e(s,t(a)),wt=x('<button type="button" class="variable menu_item svelte-cno0i6"> </button>'),xt=x('<div class="copy svelte-cno0i6"><!></div> <!>',1),Tt=x('<div class="pane p_md width_md mx_auto"><div class="panel p_lg box"><!> <!> <button type="button">ok</button></div></div>'),Ct=x(`<div class="theme_form svelte-cno0i6"><h2 class="text_align_center"><!> theme</h2> <aside>Creating and editing themes at runtime is a work in progress, but you can click around to see
		where it's going!</aside> <header class="svelte-cno0i6"><div class="variables_header svelte-cno0i6"><p> </p> <button type="button" class="w_100" disabled>add a variable</button></div> <form class="svelte-cno0i6"><label><div class="title">name</div> <input placeholder=">"></label> <button type="button"><!></button></form></header> <div class="content svelte-cno0i6"><div class="variables svelte-cno0i6"></div> <div class="rendered svelte-cno0i6"><!></div></div></div> <!>`,1);function St(s,e){V(e,!0);const a=q(e,"theme",3,null);let v=L(he(a()?a().name:"new theme")),l=L(he(a()?a().variables:[]));const _=Q(()=>({name:t(v),variables:t(l)})),g=Q(()=>ht(t(_),{empty_default_theme:!1,specificity:1})),u=Q(()=>t(l).reduce((d,C)=>C.light?d+1:d,0)),c=Q(()=>t(l).reduce((d,C)=>C.dark?d+1:d,0));let p=L(null);const k=(d,C)=>{ae(d),E(p,C,!0),E(l,t(l).slice(),!0)},w=Q(()=>!!a()),S=Q(()=>a()?t(v)!==a().name||t(l)!==a().variables:!0);var y=Ct(),b=F(y),r=n(b),m=n(r);{var h=d=>{var C=K("edit");f(d,C)},T=d=>{var C=K("create");f(d,C)};R(m,d=>{t(w)?d(h):d(T,!1)})}U(),o(r);var z=i(r,4),I=n(z),B=n(I),M=n(B);o(B);var W=i(B,2);W.__click=[kt],o(I);var A=i(I,2),j=n(A),P=i(n(j),2);ie(P),o(j);var O=i(j,2);O.__click=[yt,S,e,_];var G=n(O);{var H=d=>{var C=K("save changes");f(d,C)},ne=d=>{var C=K("create theme");f(d,C)};R(G,d=>{t(w)?d(H):d(ne,!1)})}o(O),o(A),o(z);var oe=i(z,2),D=n(oe);Se(D,21,()=>t(l),d=>d.name,(d,C)=>{var N=wt();N.__click=[pt,k,C];var $=n(N);o(N),Y(()=>te($,`--${t(C).name??""}`)),f(d,N)}),o(D);var Z=i(D,2),J=n(Z);{var Me=d=>{var C=xt(),N=F(C),$=n(N);ut($,{get text(){return t(g)}}),o(N);var ee=i(N,2);Xe(ee,{get content(){return t(g)},lang:"css"}),f(d,C)};R(J,d=>{t(g)&&d(Me)})}o(Z),o(oe),o(b);var Pe=i(b,2);{var ze=d=>{je(d,{onclose:()=>E(p,null),children:(N,$=Re)=>{var ee=Tt(),ce=n(ee),_e=n(ce);gt(_e,{get variable(){return t(p)}});var me=i(_e,2);Ee(me,{});var Ae=i(me,2);Ae.__click=function(...Le){var ue;(ue=$())==null||ue.apply(this,Le)},o(ce),o(ee),f(N,ee)},$$slots:{default:!0}})};R(Pe,d=>{t(p)&&d(ze)})}Y(()=>{te(M,`variables: ${t(u)??""} light, ${t(c)??""} dark`),O.disabled=!t(S)}),Ve(P,()=>t(v),d=>E(v,d)),f(s,y),X()}de(["click"]);var Et=x(`<!> <p>Moss supports <!> with dark and light modes. To apply dark mode manually,
			add the <code>dark</code> class to the root <code>html</code> element.</p> <p>The Fuz integration detects the default with <!>, and users can also set it directly
			with a component like <a href="https://github.com/ryanatkn/fuz/blob/main/src/lib/Color_Scheme_Input.svelte">this one</a>:</p> <div class="display_flex mb_lg"><!></div> <p>The builtin themes support both dark and light color schemes. Custom themes may support one or
			both color schemes.</p>`,1),jt=x("<code>@ryanatkn/moss/theme.ts</code>"),It=x("<code>@ryanatkn/moss/themes.ts</code>"),Mt=x(`<!> <p>A theme is a simple JSON collection of <!> that can be transformed into
			CSS that set custom properties. Each variable can have values for light and/or dark color schemes.
			In other words, "dark" isn't a theme, it's a mode that any theme can implement.</p> <p>These docs are a work in progress, for now see <!> and <!>.</p> <div class="width_xs mb_lg"><!></div> <!>`,1),Pt=x(`<section><p>Moss supports both the browser's <!> and custom themes based on <!>, which use <!>.</p> <p>Moss works with any JS framework, but it provides only stylesheets, not integrations. This
			website uses my Svelte UI library <a href="https://www.fuz.dev/">Fuz</a> to provide the UI below to control the Moss color scheme and themes.</p></section> <!> <!>`,1),zt=x('<div class="pane p_md width_md mx_auto"><div class="theme_editor_wrapper svelte-k5tzmk"><!></div></div>'),At=x("<!>  <!>",1);function ta(s,e){V(e,!0);const v=He("themes"),l=Ie.slice();let _=L(null);var g=At(),u=F(g);qe(u,{tome:v,children:(k,w)=>{var S=Pt(),y=F(S),b=n(y),r=i(n(b));re(r,{path:"Web/CSS/color-scheme"});var m=i(r,2);ge(m,{name:"variables"});var h=i(m,2);re(h,{path:"Web/CSS/--*",children:(I,B)=>{U();var M=K("CSS custom properties");f(I,M)},$$slots:{default:!0}}),U(),o(b),U(2),o(y);var T=i(y,2);ye(T,{children:(I,B)=>{var M=Et(),W=F(M);ke(W,{text:"Color scheme"});var A=i(W,2),j=i(n(A));re(j,{path:"Web/CSS/color-scheme"}),U(5),o(A);var P=i(A,2),O=i(n(P));re(O,{path:"Web/CSS/@media/prefers-color-scheme"}),U(3),o(P);var G=i(P,2),H=n(G);Fe(H,{}),o(G),U(2),f(I,M)},$$slots:{default:!0}});var z=i(T,2);ye(z,{children:(I,B)=>{var M=Mt(),W=F(M);ke(W,{text:"Builtin themes"});var A=i(W,2),j=i(n(A));ge(j,{name:"variables"}),U(),o(A);var P=i(A,2),O=i(n(P));pe(O,{path:"theme.ts",children:(D,Z)=>{var J=jt();f(D,J)},$$slots:{default:!0}});var G=i(O,2);pe(G,{path:"themes.ts",children:(D,Z)=>{var J=It();f(D,J)},$$slots:{default:!0}}),U(),o(P);var H=i(P,2),ne=n(H);dt(ne,{themes:l,enable_editing:!0,onedit:D=>E(_,D,!0)}),o(H);var oe=i(H,2);Ee(oe,{children:(D,Z)=>{U();var J=K("The builtin themes need more work, but the proof of concept is ready!");f(D,J)}}),f(I,M)},$$slots:{default:!0}}),f(k,S)},$$slots:{default:!0}});var c=i(u,2);{var p=k=>{je(k,{onclose:()=>E(_,null),children:(w,S)=>{var y=zt(),b=n(y),r=n(b);St(r,{get theme(){return t(_)},onsave:m=>{console.log("update theme",m),alert("todo")}}),o(b),o(y),f(w,y)},$$slots:{default:!0}})};R(c,k=>{t(_)&&k(p)})}f(s,g),X()}export{je as D,gt as S,ta as _};
